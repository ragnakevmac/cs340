[2021-02-25 22:30:17 -0800] [11668] [INFO] Starting gunicorn 20.0.4
[2021-02-25 22:30:17 -0800] [11668] [ERROR] Connection in use: ('0.0.0.0', 2077)
[2021-02-25 22:30:17 -0800] [11668] [ERROR] Retrying in 1 second.
[2021-02-25 22:30:18 -0800] [11668] [ERROR] Connection in use: ('0.0.0.0', 2077)
[2021-02-25 22:30:18 -0800] [11668] [ERROR] Retrying in 1 second.
[2021-02-25 22:30:19 -0800] [11668] [ERROR] Connection in use: ('0.0.0.0', 2077)
[2021-02-25 22:30:19 -0800] [11668] [ERROR] Retrying in 1 second.
[2021-02-25 22:30:20 -0800] [11668] [ERROR] Connection in use: ('0.0.0.0', 2077)
[2021-02-25 22:30:20 -0800] [11668] [ERROR] Retrying in 1 second.
[2021-02-25 22:30:21 -0800] [11668] [ERROR] Connection in use: ('0.0.0.0', 2077)
[2021-02-25 22:30:21 -0800] [11668] [ERROR] Retrying in 1 second.
[2021-02-25 22:30:22 -0800] [11668] [ERROR] Can't connect to ('0.0.0.0', 2077)
[2021-02-25 22:38:00 -0800] [5427] [INFO] Starting gunicorn 20.0.4
[2021-02-25 22:38:00 -0800] [5427] [INFO] Listening at: http://0.0.0.0:2077 (5427)
[2021-02-25 22:38:00 -0800] [5427] [INFO] Using worker: sync
[2021-02-25 22:38:00 -0800] [5430] [INFO] Booting worker with pid: 5430
Executing SELECT tl.trainline_id AS "Trainline ID", tl.trainline_company AS "Trainline Name", IFNULL(COUNT(x.trainline_id), 0) AS "Number of Active Commuters" from
        Trainlines tl
        LEFT JOIN
        (select d3.trainline_id, d3.trainline_company, d1.start_date, d1.end_date from
        (SELECT cp.commuter_pass_id, cp.start_date, cp.end_date, cp.trainline_id from Commuter_Passes cp
        where cp.start_date < now() AND now() < cp.end_date) d1
        LEFT JOIN
        (select tl.trainline_id, tl.trainline_company from Trainlines tl) as d3
        on d3.trainline_id = d1.trainline_id) as x
        on tl.trainline_id = x.trainline_id
        group by tl.trainline_id; with ()
Executing SELECT d1.commuter_pass_id AS "Commuter Pass ID", d1.cost AS "Cost Paid", d1.start_date AS "Start Date", d1.end_date AS "End Date", d3.trainline_company AS "Trainline Access", 
        d3.trainline_id AS "Trainline ID", d2.email AS "Passenger's Email", d2.passenger_id AS "Passenger's ID" from
        (SELECT cp.commuter_pass_id, cp.cost, cp.start_date, cp.end_date, cp.passenger_id, 
        cp.trainline_id from Commuter_Passes cp) d1
        LEFT JOIN
        (select pa.email, pa.passenger_id from Passengers pa) as d2
        on d1.passenger_id = d2.passenger_id
        INNER JOIN
        (select tl.trainline_id, tl.trainline_company from Trainlines tl) as d3
        on d3.trainline_id = d1.trainline_id
        where d1.start_date < now() AND d1.end_date > now()
        order by d1.commuter_pass_id; with ()
Executing SELECT trainline_id, trainline_company FROM Trainlines; with ()
Executing SELECT occupation FROM Passengers GROUP BY occupation; with ()
Executing SELECT passenger_id AS "Passenger ID", first_name AS "First Name", last_name AS "Last Name", birthdate AS "Birthdate", occupation AS "Occupation", email AS "Email" FROM Passengers where occupation = "Student"; with ()
Executing SELECT prefecture_id AS "Prefecture ID", prefecture_name AS "Prefecture Name" from Prefectures; with ()
Executing SELECT fq.passenger_id AS "Passenger ID", fq.first_name AS "First Name", fq.last_name AS "Last Name", fq.birthdate AS "Birthdate", fq.occupation AS "Occupation", fq.email AS "Email"
        FROM 
        (SELECT pa.passenger_id, pa.first_name, pa.last_name, pa.birthdate, pa.occupation, pa.email, pf.prefecture_name
        FROM Passengers pa 
        INNER JOIN Commuter_Passes cp ON pa.passenger_id = cp.passenger_id
        INNER JOIN Trainlines tl ON cp.trainline_id = tl.trainline_id
        INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        INNER JOIN Prefectures pf ON st.prefecture_id = pf.prefecture_id) 
        AS fq 
        WHERE fq.prefecture_name = "Tokyo Prefecture"; with ()
Executing SELECT tl.trainline_id AS "Trainline ID", tl.trainline_company AS "Trainline Name", st.station_name AS "Station Name", st.station_id AS "Station ID"
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY tl.trainline_id; with ()
Executing SELECT st.station_id AS "Station ID", st.station_name AS "Station Name", tl.trainline_company AS "Trainline Name", tl.trainline_id AS "Trainline ID" 
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY st.station_id; with ()
Executing SELECT tl.trainline_id AS "Trainline ID", tl.trainline_company AS "Trainline Name", st.station_name AS "Station Name", st.station_id AS "Station ID"
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY tl.trainline_id; with ()
Executing SELECT st.station_id AS "Station ID", st.station_name AS "Station Name", tl.trainline_company AS "Trainline Name", tl.trainline_id AS "Trainline ID" 
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY st.station_id; with ()
Executing SELECT st.station_id AS "Station ID", st.station_name AS "Station Name", pf.prefecture_name AS "Prefecture Jurisdiction", pf.prefecture_id AS "Prefecture ID"
        FROM Stations st INNER JOIN Prefectures pf ON st.prefecture_id = pf.prefecture_id; with ()
Executing SELECT d1.commuter_pass_id AS "Commuter Pass ID", d1.cost AS "Cost Paid", d1.start_date AS "Start Date", d1.end_date AS "End Date", d3.trainline_company AS "Trainline Access", 
        d3.trainline_id AS "Trainline ID", d2.email AS "Passenger's Email", d2.passenger_id AS "Passenger's ID" from
        (SELECT cp.commuter_pass_id, cp.cost, cp.start_date, cp.end_date, cp.passenger_id, 
        cp.trainline_id from Commuter_Passes cp) d1
        LEFT JOIN
        (select pa.email, pa.passenger_id from Passengers pa) as d2
        on d1.passenger_id = d2.passenger_id
        INNER JOIN
        (select tl.trainline_id, tl.trainline_company from Trainlines tl) as d3
        on d3.trainline_id = d1.trainline_id
        where d1.start_date < now() AND d1.end_date > now()
        order by d1.commuter_pass_id; with ()
Executing SELECT trainline_id, trainline_company FROM Trainlines; with ()
Executing SELECT tl.trainline_id AS "Trainline ID", tl.trainline_company AS "Trainline Name", st.station_name AS "Station Name", st.station_id AS "Station ID"
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY tl.trainline_id; with ()
Executing SELECT st.station_id AS "Station ID", st.station_name AS "Station Name", tl.trainline_company AS "Trainline Name", tl.trainline_id AS "Trainline ID" 
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY st.station_id; with ()
Executing SELECT occupation FROM Passengers GROUP BY occupation; with ()
Executing SELECT passenger_id AS "Passenger ID", first_name AS "First Name", last_name AS "Last Name", birthdate AS "Birthdate", occupation AS "Occupation", email AS "Email" FROM Passengers where occupation = "Student"; with ()
Executing SELECT d1.commuter_pass_id AS "Commuter Pass ID", d1.cost AS "Cost Paid", d1.start_date AS "Start Date", d1.end_date AS "End Date", d3.trainline_company AS "Trainline Access", 
        d3.trainline_id AS "Trainline ID", d2.email AS "Passenger's Email", d2.passenger_id AS "Passenger's ID" from
        (SELECT cp.commuter_pass_id, cp.cost, cp.start_date, cp.end_date, cp.passenger_id, 
        cp.trainline_id from Commuter_Passes cp) d1
        LEFT JOIN
        (select pa.email, pa.passenger_id from Passengers pa) as d2
        on d1.passenger_id = d2.passenger_id
        INNER JOIN
        (select tl.trainline_id, tl.trainline_company from Trainlines tl) as d3
        on d3.trainline_id = d1.trainline_id
        where d1.start_date < now() AND d1.end_date > now()
        order by d1.commuter_pass_id; with ()
Executing SELECT trainline_id, trainline_company FROM Trainlines; with ()
Executing INSERT INTO Commuter_Passes (cost, start_date, end_date, passenger_id, trainline_id) VALUES (%s, %s, %s, %s, %s) with ['', '', '', None, 2]
Executing SELECT d1.commuter_pass_id AS "Commuter Pass ID", d1.cost AS "Cost Paid", d1.start_date AS "Start Date", d1.end_date AS "End Date", d3.trainline_company AS "Trainline Access", 
        d3.trainline_id AS "Trainline ID", d2.email AS "Passenger's Email", d2.passenger_id AS "Passenger's ID" from
        (SELECT cp.commuter_pass_id, cp.cost, cp.start_date, cp.end_date, cp.passenger_id, 
        cp.trainline_id from Commuter_Passes cp) d1
        LEFT JOIN
        (select pa.email, pa.passenger_id from Passengers pa) as d2
        on d1.passenger_id = d2.passenger_id
        INNER JOIN
        (select tl.trainline_id, tl.trainline_company from Trainlines tl) as d3
        on d3.trainline_id = d1.trainline_id
        where d1.start_date < now() AND d1.end_date > now()
        order by d1.commuter_pass_id; with ()
Executing SELECT trainline_id, trainline_company FROM Trainlines; with ()
Executing INSERT INTO Commuter_Passes (cost, start_date, end_date, passenger_id, trainline_id) VALUES (%s, %s, %s, %s, %s) with ['', '', '', None, 7]
Executing SELECT d1.commuter_pass_id AS "Commuter Pass ID", d1.cost AS "Cost Paid", d1.start_date AS "Start Date", d1.end_date AS "End Date", d3.trainline_company AS "Trainline Access", 
        d3.trainline_id AS "Trainline ID", d2.email AS "Passenger's Email", d2.passenger_id AS "Passenger's ID" from
        (SELECT cp.commuter_pass_id, cp.cost, cp.start_date, cp.end_date, cp.passenger_id, 
        cp.trainline_id from Commuter_Passes cp) d1
        LEFT JOIN
        (select pa.email, pa.passenger_id from Passengers pa) as d2
        on d1.passenger_id = d2.passenger_id
        INNER JOIN
        (select tl.trainline_id, tl.trainline_company from Trainlines tl) as d3
        on d3.trainline_id = d1.trainline_id
        where d1.start_date < now() AND d1.end_date > now()
        order by d1.commuter_pass_id; with ()
Executing SELECT trainline_id, trainline_company FROM Trainlines; with ()
Executing SELECT tl.trainline_id AS "Trainline ID", tl.trainline_company AS "Trainline Name", st.station_name AS "Station Name", st.station_id AS "Station ID"
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY tl.trainline_id; with ()
Executing SELECT st.station_id AS "Station ID", st.station_name AS "Station Name", tl.trainline_company AS "Trainline Name", tl.trainline_id AS "Trainline ID" 
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY st.station_id; with ()
Executing SELECT prefecture_id AS "Prefecture ID", prefecture_name AS "Prefecture Name" from Prefectures; with ()
Executing SELECT fq.passenger_id AS "Passenger ID", fq.first_name AS "First Name", fq.last_name AS "Last Name", fq.birthdate AS "Birthdate", fq.occupation AS "Occupation", fq.email AS "Email"
        FROM 
        (SELECT pa.passenger_id, pa.first_name, pa.last_name, pa.birthdate, pa.occupation, pa.email, pf.prefecture_name
        FROM Passengers pa 
        INNER JOIN Commuter_Passes cp ON pa.passenger_id = cp.passenger_id
        INNER JOIN Trainlines tl ON cp.trainline_id = tl.trainline_id
        INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        INNER JOIN Prefectures pf ON st.prefecture_id = pf.prefecture_id) 
        AS fq 
        WHERE fq.prefecture_name = "Tokyo Prefecture"; with ()
Executing SELECT tl.trainline_id AS "Trainline ID", tl.trainline_company AS "Trainline Name", IFNULL(COUNT(x.trainline_id), 0) AS "Number of Active Commuters" from
        Trainlines tl
        LEFT JOIN
        (select d3.trainline_id, d3.trainline_company, d1.start_date, d1.end_date from
        (SELECT cp.commuter_pass_id, cp.start_date, cp.end_date, cp.trainline_id from Commuter_Passes cp
        where cp.start_date < now() AND now() < cp.end_date) d1
        LEFT JOIN
        (select tl.trainline_id, tl.trainline_company from Trainlines tl) as d3
        on d3.trainline_id = d1.trainline_id) as x
        on tl.trainline_id = x.trainline_id
        group by tl.trainline_id; with ()
Executing SELECT d1.commuter_pass_id AS "Commuter Pass ID", d1.cost AS "Cost Paid", d1.start_date AS "Start Date", d1.end_date AS "End Date", d3.trainline_company AS "Trainline Access", 
        d3.trainline_id AS "Trainline ID", d2.email AS "Passenger's Email", d2.passenger_id AS "Passenger's ID" from
        (SELECT cp.commuter_pass_id, cp.cost, cp.start_date, cp.end_date, cp.passenger_id, 
        cp.trainline_id from Commuter_Passes cp) d1
        LEFT JOIN
        (select pa.email, pa.passenger_id from Passengers pa) as d2
        on d1.passenger_id = d2.passenger_id
        INNER JOIN
        (select tl.trainline_id, tl.trainline_company from Trainlines tl) as d3
        on d3.trainline_id = d1.trainline_id
        where d1.start_date < now() AND d1.end_date > now()
        order by d1.commuter_pass_id; with ()
Executing SELECT trainline_id, trainline_company FROM Trainlines; with ()
Executing SELECT occupation FROM Passengers GROUP BY occupation; with ()
Executing SELECT passenger_id AS "Passenger ID", first_name AS "First Name", last_name AS "Last Name", birthdate AS "Birthdate", occupation AS "Occupation", email AS "Email" FROM Passengers where occupation = "Student"; with ()
Executing SELECT occupation FROM Passengers GROUP BY occupation; with ()
Executing INSERT INTO Passengers (first_name, last_name, birthdate, occupation, email) VALUES (%s, %s, %s, %s, %s) with ['ww', 'ww', '', 'ww', 'ww']
Executing SELECT occupation FROM Passengers GROUP BY occupation; with ()
Executing SELECT passenger_id AS "Passenger ID", first_name AS "First Name", last_name AS "Last Name", birthdate AS "Birthdate", occupation AS "Occupation", email AS "Email" FROM Passengers where occupation = "Student"; with ()
Executing SELECT occupation FROM Passengers GROUP BY occupation; with ()
Executing INSERT INTO Passengers (first_name, last_name, birthdate, occupation, email) VALUES (%s, %s, %s, %s, %s) with ['ww', 'ww', '1999-03-12', 'ww', 'ww']
Executing SELECT occupation FROM Passengers GROUP BY occupation; with ()
Executing INSERT INTO Passengers (first_name, last_name, birthdate, occupation, email) VALUES (%s, %s, %s, %s, %s) with ['ww', 'ww', '', 'ww', 'ww']
Executing SELECT occupation FROM Passengers GROUP BY occupation; with ()
Executing SELECT passenger_id AS "Passenger ID", first_name AS "First Name", last_name AS "Last Name", birthdate AS "Birthdate", occupation AS "Occupation", email AS "Email" FROM Passengers where occupation = "Student"; with ()
Executing SELECT tl.trainline_id AS "Trainline ID", tl.trainline_company AS "Trainline Name", st.station_name AS "Station Name", st.station_id AS "Station ID"
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY tl.trainline_id; with ()
Executing SELECT st.station_id AS "Station ID", st.station_name AS "Station Name", tl.trainline_company AS "Trainline Name", tl.trainline_id AS "Trainline ID" 
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY st.station_id; with ()
Executing SELECT d1.commuter_pass_id AS "Commuter Pass ID", d1.cost AS "Cost Paid", d1.start_date AS "Start Date", d1.end_date AS "End Date", d3.trainline_company AS "Trainline Access", 
        d3.trainline_id AS "Trainline ID", d2.email AS "Passenger's Email", d2.passenger_id AS "Passenger's ID" from
        (SELECT cp.commuter_pass_id, cp.cost, cp.start_date, cp.end_date, cp.passenger_id, 
        cp.trainline_id from Commuter_Passes cp) d1
        LEFT JOIN
        (select pa.email, pa.passenger_id from Passengers pa) as d2
        on d1.passenger_id = d2.passenger_id
        INNER JOIN
        (select tl.trainline_id, tl.trainline_company from Trainlines tl) as d3
        on d3.trainline_id = d1.trainline_id
        where d1.start_date < now() AND d1.end_date > now()
        order by d1.commuter_pass_id; with ()
Executing SELECT trainline_id, trainline_company FROM Trainlines; with ()
Executing SELECT occupation FROM Passengers GROUP BY occupation; with ()
Executing SELECT passenger_id AS "Passenger ID", first_name AS "First Name", last_name AS "Last Name", birthdate AS "Birthdate", occupation AS "Occupation", email AS "Email" FROM Passengers where occupation = "Student"; with ()
Executing SELECT d1.commuter_pass_id AS "Commuter Pass ID", d1.cost AS "Cost Paid", d1.start_date AS "Start Date", d1.end_date AS "End Date", d3.trainline_company AS "Trainline Access", 
        d3.trainline_id AS "Trainline ID", d2.email AS "Passenger's Email", d2.passenger_id AS "Passenger's ID" from
        (SELECT cp.commuter_pass_id, cp.cost, cp.start_date, cp.end_date, cp.passenger_id, 
        cp.trainline_id from Commuter_Passes cp) d1
        LEFT JOIN
        (select pa.email, pa.passenger_id from Passengers pa) as d2
        on d1.passenger_id = d2.passenger_id
        INNER JOIN
        (select tl.trainline_id, tl.trainline_company from Trainlines tl) as d3
        on d3.trainline_id = d1.trainline_id
        where d1.start_date < now() AND d1.end_date > now()
        order by d1.commuter_pass_id; with ()
Executing SELECT trainline_id, trainline_company FROM Trainlines; with ()
Executing SELECT st.station_id AS "Station ID", st.station_name AS "Station Name", pf.prefecture_name AS "Prefecture Jurisdiction", pf.prefecture_id AS "Prefecture ID"
        FROM Stations st INNER JOIN Prefectures pf ON st.prefecture_id = pf.prefecture_id; with ()
Executing SELECT prefecture_id AS "Prefecture ID", prefecture_name AS "Prefecture Name" from Prefectures; with ()
Executing SELECT fq.passenger_id AS "Passenger ID", fq.first_name AS "First Name", fq.last_name AS "Last Name", fq.birthdate AS "Birthdate", fq.occupation AS "Occupation", fq.email AS "Email"
        FROM 
        (SELECT pa.passenger_id, pa.first_name, pa.last_name, pa.birthdate, pa.occupation, pa.email, pf.prefecture_name
        FROM Passengers pa 
        INNER JOIN Commuter_Passes cp ON pa.passenger_id = cp.passenger_id
        INNER JOIN Trainlines tl ON cp.trainline_id = tl.trainline_id
        INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        INNER JOIN Prefectures pf ON st.prefecture_id = pf.prefecture_id) 
        AS fq 
        WHERE fq.prefecture_name = "Tokyo Prefecture"; with ()
Executing SELECT tl.trainline_id AS "Trainline ID", tl.trainline_company AS "Trainline Name", st.station_name AS "Station Name", st.station_id AS "Station ID"
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY tl.trainline_id; with ()
Executing SELECT st.station_id AS "Station ID", st.station_name AS "Station Name", tl.trainline_company AS "Trainline Name", tl.trainline_id AS "Trainline ID" 
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY st.station_id; with ()
[2021-02-25 22:49:14 -0800] [5427] [CRITICAL] WORKER TIMEOUT (pid:5430)
[2021-02-25 22:49:14 -0800] [5430] [INFO] Worker exiting (pid: 5430)
[2021-02-25 22:49:14 -0800] [12902] [INFO] Booting worker with pid: 12902
Executing SELECT prefecture_id AS "Prefecture ID", prefecture_name AS "Prefecture Name" from Prefectures; with ()
[2021-02-25 22:56:52,814] ERROR in app: Exception on /prefectures [GET]
Traceback (most recent call last):
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/app.py", line 224, in prefectures
    cursor_one = db.execute_query(db_connection = db_connection, query = query_one)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/database/db_connector.py", line 44, in execute_query
    cursor.execute(query, query_params)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 206, in execute
    res = self._query(query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 319, in _query
    db.query(q)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/connections.py", line 259, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.OperationalError: (2006, 'MySQL server has gone away')
Executing SELECT tl.trainline_id AS "Trainline ID", tl.trainline_company AS "Trainline Name", st.station_name AS "Station Name", st.station_id AS "Station ID"
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY tl.trainline_id; with ()
[2021-02-25 22:56:58,528] ERROR in app: Exception on /trainlines-and-stations [GET]
Traceback (most recent call last):
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/app.py", line 262, in trainlines_and_stations
    cursor_one = db.execute_query(db_connection = db_connection, query = query_one)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/database/db_connector.py", line 44, in execute_query
    cursor.execute(query, query_params)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 206, in execute
    res = self._query(query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 319, in _query
    db.query(q)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/connections.py", line 259, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.OperationalError: (2006, 'MySQL server has gone away')
Executing SELECT tl.trainline_id AS "Trainline ID", tl.trainline_company AS "Trainline Name", st.station_name AS "Station Name", st.station_id AS "Station ID"
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY tl.trainline_id; with ()
[2021-02-25 22:57:08,847] ERROR in app: Exception on /trainlines-and-stations [GET]
Traceback (most recent call last):
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/app.py", line 262, in trainlines_and_stations
    cursor_one = db.execute_query(db_connection = db_connection, query = query_one)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/database/db_connector.py", line 44, in execute_query
    cursor.execute(query, query_params)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 206, in execute
    res = self._query(query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 319, in _query
    db.query(q)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/connections.py", line 259, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.OperationalError: (2006, 'MySQL server has gone away')
Executing SELECT tl.trainline_id AS "Trainline ID", tl.trainline_company AS "Trainline Name", IFNULL(COUNT(x.trainline_id), 0) AS "Number of Active Commuters" from
        Trainlines tl
        LEFT JOIN
        (select d3.trainline_id, d3.trainline_company, d1.start_date, d1.end_date from
        (SELECT cp.commuter_pass_id, cp.start_date, cp.end_date, cp.trainline_id from Commuter_Passes cp
        where cp.start_date < now() AND now() < cp.end_date) d1
        LEFT JOIN
        (select tl.trainline_id, tl.trainline_company from Trainlines tl) as d3
        on d3.trainline_id = d1.trainline_id) as x
        on tl.trainline_id = x.trainline_id
        group by tl.trainline_id; with ()
[2021-02-25 22:57:12,628] ERROR in app: Exception on /trainlines [GET]
Traceback (most recent call last):
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/app.py", line 181, in trainlines
    cursor = db.execute_query(db_connection = db_connection, query = query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/database/db_connector.py", line 44, in execute_query
    cursor.execute(query, query_params)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 206, in execute
    res = self._query(query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 319, in _query
    db.query(q)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/connections.py", line 259, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.OperationalError: (2006, 'MySQL server has gone away')
Executing SELECT occupation FROM Passengers GROUP BY occupation; with ()
[2021-02-25 22:57:15,106] ERROR in app: Exception on /passengers [GET]
Traceback (most recent call last):
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/app.py", line 36, in passengers
    cursor_occupation = db.execute_query(db_connection = db_connection, query = query_occupation)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/database/db_connector.py", line 44, in execute_query
    cursor.execute(query, query_params)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 206, in execute
    res = self._query(query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 319, in _query
    db.query(q)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/connections.py", line 259, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.OperationalError: (2006, 'MySQL server has gone away')
[2021-02-25 22:57:48 -0800] [5427] [CRITICAL] WORKER TIMEOUT (pid:12902)
[2021-02-25 22:57:48 -0800] [12902] [INFO] Worker exiting (pid: 12902)
[2021-02-25 22:57:48 -0800] [11435] [INFO] Booting worker with pid: 11435
Executing SELECT prefecture_id AS "Prefecture ID", prefecture_name AS "Prefecture Name" from Prefectures; with ()
Executing SELECT fq.passenger_id AS "Passenger ID", fq.first_name AS "First Name", fq.last_name AS "Last Name", fq.birthdate AS "Birthdate", fq.occupation AS "Occupation", fq.email AS "Email"
        FROM 
        (SELECT pa.passenger_id, pa.first_name, pa.last_name, pa.birthdate, pa.occupation, pa.email, pf.prefecture_name
        FROM Passengers pa 
        INNER JOIN Commuter_Passes cp ON pa.passenger_id = cp.passenger_id
        INNER JOIN Trainlines tl ON cp.trainline_id = tl.trainline_id
        INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        INNER JOIN Prefectures pf ON st.prefecture_id = pf.prefecture_id) 
        AS fq 
        WHERE fq.prefecture_name = "Tokyo Prefecture"; with ()
Executing SELECT tl.trainline_id AS "Trainline ID", tl.trainline_company AS "Trainline Name", st.station_name AS "Station Name", st.station_id AS "Station ID"
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY tl.trainline_id; with ()
Executing SELECT st.station_id AS "Station ID", st.station_name AS "Station Name", tl.trainline_company AS "Trainline Name", tl.trainline_id AS "Trainline ID" 
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY st.station_id; with ()
Executing SELECT tl.trainline_id AS "Trainline ID", tl.trainline_company AS "Trainline Name", IFNULL(COUNT(x.trainline_id), 0) AS "Number of Active Commuters" from
        Trainlines tl
        LEFT JOIN
        (select d3.trainline_id, d3.trainline_company, d1.start_date, d1.end_date from
        (SELECT cp.commuter_pass_id, cp.start_date, cp.end_date, cp.trainline_id from Commuter_Passes cp
        where cp.start_date < now() AND now() < cp.end_date) d1
        LEFT JOIN
        (select tl.trainline_id, tl.trainline_company from Trainlines tl) as d3
        on d3.trainline_id = d1.trainline_id) as x
        on tl.trainline_id = x.trainline_id
        group by tl.trainline_id; with ()
Executing SELECT prefecture_id AS "Prefecture ID", prefecture_name AS "Prefecture Name" from Prefectures; with ()
Executing SELECT fq.passenger_id AS "Passenger ID", fq.first_name AS "First Name", fq.last_name AS "Last Name", fq.birthdate AS "Birthdate", fq.occupation AS "Occupation", fq.email AS "Email"
        FROM 
        (SELECT pa.passenger_id, pa.first_name, pa.last_name, pa.birthdate, pa.occupation, pa.email, pf.prefecture_name
        FROM Passengers pa 
        INNER JOIN Commuter_Passes cp ON pa.passenger_id = cp.passenger_id
        INNER JOIN Trainlines tl ON cp.trainline_id = tl.trainline_id
        INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        INNER JOIN Prefectures pf ON st.prefecture_id = pf.prefecture_id) 
        AS fq 
        WHERE fq.prefecture_name = "Tokyo Prefecture"; with ()
Executing SELECT d1.commuter_pass_id AS "Commuter Pass ID", d1.cost AS "Cost Paid", d1.start_date AS "Start Date", d1.end_date AS "End Date", d3.trainline_company AS "Trainline Access", 
        d3.trainline_id AS "Trainline ID", d2.email AS "Passenger's Email", d2.passenger_id AS "Passenger's ID" from
        (SELECT cp.commuter_pass_id, cp.cost, cp.start_date, cp.end_date, cp.passenger_id, 
        cp.trainline_id from Commuter_Passes cp) d1
        LEFT JOIN
        (select pa.email, pa.passenger_id from Passengers pa) as d2
        on d1.passenger_id = d2.passenger_id
        INNER JOIN
        (select tl.trainline_id, tl.trainline_company from Trainlines tl) as d3
        on d3.trainline_id = d1.trainline_id
        where d1.start_date < now() AND d1.end_date > now()
        order by d1.commuter_pass_id; with ()
Executing SELECT trainline_id, trainline_company FROM Trainlines; with ()
Executing SELECT occupation FROM Passengers GROUP BY occupation; with ()
Executing SELECT passenger_id AS "Passenger ID", first_name AS "First Name", last_name AS "Last Name", birthdate AS "Birthdate", occupation AS "Occupation", email AS "Email" FROM Passengers where occupation = "Student"; with ()
Executing SELECT occupation FROM Passengers GROUP BY occupation; with ()
Executing SELECT passenger_id AS "Passenger ID", first_name AS "First Name", last_name AS "Last Name", birthdate AS "Birthdate", occupation AS "Occupation", email AS "Email" FROM Passengers where occupation = "Student"; with ()
Executing SELECT d1.commuter_pass_id AS "Commuter Pass ID", d1.cost AS "Cost Paid", d1.start_date AS "Start Date", d1.end_date AS "End Date", d3.trainline_company AS "Trainline Access", 
        d3.trainline_id AS "Trainline ID", d2.email AS "Passenger's Email", d2.passenger_id AS "Passenger's ID" from
        (SELECT cp.commuter_pass_id, cp.cost, cp.start_date, cp.end_date, cp.passenger_id, 
        cp.trainline_id from Commuter_Passes cp) d1
        LEFT JOIN
        (select pa.email, pa.passenger_id from Passengers pa) as d2
        on d1.passenger_id = d2.passenger_id
        INNER JOIN
        (select tl.trainline_id, tl.trainline_company from Trainlines tl) as d3
        on d3.trainline_id = d1.trainline_id
        where d1.start_date < now() AND d1.end_date > now()
        order by d1.commuter_pass_id; with ()
Executing SELECT trainline_id, trainline_company FROM Trainlines; with ()
Executing SELECT st.station_id AS "Station ID", st.station_name AS "Station Name", pf.prefecture_name AS "Prefecture Jurisdiction", pf.prefecture_id AS "Prefecture ID"
        FROM Stations st INNER JOIN Prefectures pf ON st.prefecture_id = pf.prefecture_id; with ()
Executing SELECT tl.trainline_id AS "Trainline ID", tl.trainline_company AS "Trainline Name", st.station_name AS "Station Name", st.station_id AS "Station ID"
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY tl.trainline_id; with ()
Executing SELECT st.station_id AS "Station ID", st.station_name AS "Station Name", tl.trainline_company AS "Trainline Name", tl.trainline_id AS "Trainline ID" 
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY st.station_id; with ()
Executing SELECT tl.trainline_id AS "Trainline ID", tl.trainline_company AS "Trainline Name", IFNULL(COUNT(x.trainline_id), 0) AS "Number of Active Commuters" from
        Trainlines tl
        LEFT JOIN
        (select d3.trainline_id, d3.trainline_company, d1.start_date, d1.end_date from
        (SELECT cp.commuter_pass_id, cp.start_date, cp.end_date, cp.trainline_id from Commuter_Passes cp
        where cp.start_date < now() AND now() < cp.end_date) d1
        LEFT JOIN
        (select tl.trainline_id, tl.trainline_company from Trainlines tl) as d3
        on d3.trainline_id = d1.trainline_id) as x
        on tl.trainline_id = x.trainline_id
        group by tl.trainline_id; with ()
Executing INSERT INTO Trainlines (trainline_company) VALUES (%s) with ['Item']
Executing SELECT tl.trainline_id AS "Trainline ID", tl.trainline_company AS "Trainline Name", IFNULL(COUNT(x.trainline_id), 0) AS "Number of Active Commuters" from
        Trainlines tl
        LEFT JOIN
        (select d3.trainline_id, d3.trainline_company, d1.start_date, d1.end_date from
        (SELECT cp.commuter_pass_id, cp.start_date, cp.end_date, cp.trainline_id from Commuter_Passes cp
        where cp.start_date < now() AND now() < cp.end_date) d1
        LEFT JOIN
        (select tl.trainline_id, tl.trainline_company from Trainlines tl) as d3
        on d3.trainline_id = d1.trainline_id) as x
        on tl.trainline_id = x.trainline_id
        group by tl.trainline_id; with ()
Executing INSERT INTO Trainlines (trainline_company) VALUES (%s) with ['That']
Executing SELECT tl.trainline_id AS "Trainline ID", tl.trainline_company AS "Trainline Name", IFNULL(COUNT(x.trainline_id), 0) AS "Number of Active Commuters" from
        Trainlines tl
        LEFT JOIN
        (select d3.trainline_id, d3.trainline_company, d1.start_date, d1.end_date from
        (SELECT cp.commuter_pass_id, cp.start_date, cp.end_date, cp.trainline_id from Commuter_Passes cp
        where cp.start_date < now() AND now() < cp.end_date) d1
        LEFT JOIN
        (select tl.trainline_id, tl.trainline_company from Trainlines tl) as d3
        on d3.trainline_id = d1.trainline_id) as x
        on tl.trainline_id = x.trainline_id
        group by tl.trainline_id; with ()
Executing SELECT st.station_id AS "Station ID", st.station_name AS "Station Name", pf.prefecture_name AS "Prefecture Jurisdiction", pf.prefecture_id AS "Prefecture ID"
        FROM Stations st INNER JOIN Prefectures pf ON st.prefecture_id = pf.prefecture_id; with ()
Executing SELECT st.station_id AS "Station ID", st.station_name AS "Station Name", pf.prefecture_name AS "Prefecture Jurisdiction", pf.prefecture_id AS "Prefecture ID"
        FROM Stations st INNER JOIN Prefectures pf ON st.prefecture_id = pf.prefecture_id; with ()
Executing SELECT st.station_id AS "Station ID", st.station_name AS "Station Name", pf.prefecture_name AS "Prefecture Jurisdiction", pf.prefecture_id AS "Prefecture ID"
        FROM Stations st INNER JOIN Prefectures pf ON st.prefecture_id = pf.prefecture_id; with ()
Executing SELECT st.station_id AS "Station ID", st.station_name AS "Station Name", pf.prefecture_name AS "Prefecture Jurisdiction", pf.prefecture_id AS "Prefecture ID"
        FROM Stations st INNER JOIN Prefectures pf ON st.prefecture_id = pf.prefecture_id; with ()
Executing SELECT st.station_id AS "Station ID", st.station_name AS "Station Name", pf.prefecture_name AS "Prefecture Jurisdiction", pf.prefecture_id AS "Prefecture ID"
        FROM Stations st INNER JOIN Prefectures pf ON st.prefecture_id = pf.prefecture_id; with ()
Executing SELECT st.station_id AS "Station ID", st.station_name AS "Station Name", pf.prefecture_name AS "Prefecture Jurisdiction", pf.prefecture_id AS "Prefecture ID"
        FROM Stations st INNER JOIN Prefectures pf ON st.prefecture_id = pf.prefecture_id; with ()
Executing SELECT tl.trainline_id AS "Trainline ID", tl.trainline_company AS "Trainline Name", IFNULL(COUNT(x.trainline_id), 0) AS "Number of Active Commuters" from
        Trainlines tl
        LEFT JOIN
        (select d3.trainline_id, d3.trainline_company, d1.start_date, d1.end_date from
        (SELECT cp.commuter_pass_id, cp.start_date, cp.end_date, cp.trainline_id from Commuter_Passes cp
        where cp.start_date < now() AND now() < cp.end_date) d1
        LEFT JOIN
        (select tl.trainline_id, tl.trainline_company from Trainlines tl) as d3
        on d3.trainline_id = d1.trainline_id) as x
        on tl.trainline_id = x.trainline_id
        group by tl.trainline_id; with ()
Executing INSERT INTO Trainlines (trainline_company) VALUES (%s) with ['jjj']
Executing SELECT tl.trainline_id AS "Trainline ID", tl.trainline_company AS "Trainline Name", IFNULL(COUNT(x.trainline_id), 0) AS "Number of Active Commuters" from
        Trainlines tl
        LEFT JOIN
        (select d3.trainline_id, d3.trainline_company, d1.start_date, d1.end_date from
        (SELECT cp.commuter_pass_id, cp.start_date, cp.end_date, cp.trainline_id from Commuter_Passes cp
        where cp.start_date < now() AND now() < cp.end_date) d1
        LEFT JOIN
        (select tl.trainline_id, tl.trainline_company from Trainlines tl) as d3
        on d3.trainline_id = d1.trainline_id) as x
        on tl.trainline_id = x.trainline_id
        group by tl.trainline_id; with ()
Executing SELECT occupation FROM Passengers GROUP BY occupation; with ()
Executing SELECT passenger_id AS "Passenger ID", first_name AS "First Name", last_name AS "Last Name", birthdate AS "Birthdate", occupation AS "Occupation", email AS "Email" FROM Passengers where occupation = "Student"; with ()
Executing SELECT tl.trainline_id AS "Trainline ID", tl.trainline_company AS "Trainline Name", st.station_name AS "Station Name", st.station_id AS "Station ID"
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY tl.trainline_id; with ()
Executing SELECT st.station_id AS "Station ID", st.station_name AS "Station Name", tl.trainline_company AS "Trainline Name", tl.trainline_id AS "Trainline ID" 
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY st.station_id; with ()
Executing SELECT d1.commuter_pass_id AS "Commuter Pass ID", d1.cost AS "Cost Paid", d1.start_date AS "Start Date", d1.end_date AS "End Date", d3.trainline_company AS "Trainline Access", 
        d3.trainline_id AS "Trainline ID", d2.email AS "Passenger's Email", d2.passenger_id AS "Passenger's ID" from
        (SELECT cp.commuter_pass_id, cp.cost, cp.start_date, cp.end_date, cp.passenger_id, 
        cp.trainline_id from Commuter_Passes cp) d1
        LEFT JOIN
        (select pa.email, pa.passenger_id from Passengers pa) as d2
        on d1.passenger_id = d2.passenger_id
        INNER JOIN
        (select tl.trainline_id, tl.trainline_company from Trainlines tl) as d3
        on d3.trainline_id = d1.trainline_id
        where d1.start_date < now() AND d1.end_date > now()
        order by d1.commuter_pass_id; with ()
Executing SELECT trainline_id, trainline_company FROM Trainlines; with ()
Executing SELECT passenger_id FROM Passengers WHERE email = "sss"; with ()
Executing INSERT INTO Commuter_Passes (cost, start_date, end_date, passenger_id, trainline_id) VALUES (%s, %s, %s, %s, %s) with ['7', '2021-02-11', '2021-02-18', None, 1]
Executing SELECT passenger_id FROM Passengers WHERE email = "sss"; with ()
Executing INSERT INTO Commuter_Passes (cost, start_date, end_date, passenger_id, trainline_id) VALUES (%s, %s, %s, %s, %s) with ['7', '2021-02-11', '2021-02-18', None, 1]
Executing SELECT d1.commuter_pass_id AS "Commuter Pass ID", d1.cost AS "Cost Paid", d1.start_date AS "Start Date", d1.end_date AS "End Date", d3.trainline_company AS "Trainline Access", 
        d3.trainline_id AS "Trainline ID", d2.email AS "Passenger's Email", d2.passenger_id AS "Passenger's ID" from
        (SELECT cp.commuter_pass_id, cp.cost, cp.start_date, cp.end_date, cp.passenger_id, 
        cp.trainline_id from Commuter_Passes cp) d1
        LEFT JOIN
        (select pa.email, pa.passenger_id from Passengers pa) as d2
        on d1.passenger_id = d2.passenger_id
        INNER JOIN
        (select tl.trainline_id, tl.trainline_company from Trainlines tl) as d3
        on d3.trainline_id = d1.trainline_id
        where d1.start_date < now() AND d1.end_date > now()
        order by d1.commuter_pass_id; with ()
Executing SELECT trainline_id, trainline_company FROM Trainlines; with ()
Executing SELECT occupation FROM Passengers GROUP BY occupation; with ()
Executing SELECT passenger_id AS "Passenger ID", first_name AS "First Name", last_name AS "Last Name", birthdate AS "Birthdate", occupation AS "Occupation", email AS "Email" FROM Passengers where occupation = "Student"; with ()
Executing SELECT occupation FROM Passengers GROUP BY occupation; with ()
[2021-02-26 00:21:18,331] ERROR in app: Exception on /passengers [GET]
Traceback (most recent call last):
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/app.py", line 36, in passengers
    cursor_occupation = db.execute_query(db_connection = db_connection, query = query_occupation)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/database/db_connector.py", line 44, in execute_query
    cursor.execute(query, query_params)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 206, in execute
    res = self._query(query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 319, in _query
    db.query(q)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/connections.py", line 259, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.OperationalError: (2006, 'MySQL server has gone away')
Executing SELECT d1.commuter_pass_id AS "Commuter Pass ID", d1.cost AS "Cost Paid", d1.start_date AS "Start Date", d1.end_date AS "End Date", d3.trainline_company AS "Trainline Access", 
        d3.trainline_id AS "Trainline ID", d2.email AS "Passenger's Email", d2.passenger_id AS "Passenger's ID" from
        (SELECT cp.commuter_pass_id, cp.cost, cp.start_date, cp.end_date, cp.passenger_id, 
        cp.trainline_id from Commuter_Passes cp) d1
        LEFT JOIN
        (select pa.email, pa.passenger_id from Passengers pa) as d2
        on d1.passenger_id = d2.passenger_id
        INNER JOIN
        (select tl.trainline_id, tl.trainline_company from Trainlines tl) as d3
        on d3.trainline_id = d1.trainline_id
        where d1.start_date < now() AND d1.end_date > now()
        order by d1.commuter_pass_id; with ()
[2021-02-26 00:21:20,922] ERROR in app: Exception on /commuter-passes [GET]
Traceback (most recent call last):
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/app.py", line 135, in commuter_passes
    cursor = db.execute_query(db_connection = db_connection, query = query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/database/db_connector.py", line 44, in execute_query
    cursor.execute(query, query_params)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 206, in execute
    res = self._query(query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 319, in _query
    db.query(q)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/connections.py", line 259, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.OperationalError: (2006, 'MySQL server has gone away')
Executing SELECT prefecture_id AS "Prefecture ID", prefecture_name AS "Prefecture Name" from Prefectures; with ()
[2021-02-26 00:21:23,035] ERROR in app: Exception on /prefectures [GET]
Traceback (most recent call last):
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/app.py", line 224, in prefectures
    cursor_one = db.execute_query(db_connection = db_connection, query = query_one)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/database/db_connector.py", line 44, in execute_query
    cursor.execute(query, query_params)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 206, in execute
    res = self._query(query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 319, in _query
    db.query(q)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/connections.py", line 259, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.OperationalError: (2006, 'MySQL server has gone away')
Executing SELECT d1.commuter_pass_id AS "Commuter Pass ID", d1.cost AS "Cost Paid", d1.start_date AS "Start Date", d1.end_date AS "End Date", d3.trainline_company AS "Trainline Access", 
        d3.trainline_id AS "Trainline ID", d2.email AS "Passenger's Email", d2.passenger_id AS "Passenger's ID" from
        (SELECT cp.commuter_pass_id, cp.cost, cp.start_date, cp.end_date, cp.passenger_id, 
        cp.trainline_id from Commuter_Passes cp) d1
        LEFT JOIN
        (select pa.email, pa.passenger_id from Passengers pa) as d2
        on d1.passenger_id = d2.passenger_id
        INNER JOIN
        (select tl.trainline_id, tl.trainline_company from Trainlines tl) as d3
        on d3.trainline_id = d1.trainline_id
        where d1.start_date < now() AND d1.end_date > now()
        order by d1.commuter_pass_id; with ()
[2021-02-26 00:21:26,364] ERROR in app: Exception on /commuter-passes [GET]
Traceback (most recent call last):
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/app.py", line 135, in commuter_passes
    cursor = db.execute_query(db_connection = db_connection, query = query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/database/db_connector.py", line 44, in execute_query
    cursor.execute(query, query_params)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 206, in execute
    res = self._query(query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 319, in _query
    db.query(q)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/connections.py", line 259, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.OperationalError: (2006, 'MySQL server has gone away')
Executing SELECT tl.trainline_id AS "Trainline ID", tl.trainline_company AS "Trainline Name", st.station_name AS "Station Name", st.station_id AS "Station ID"
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY tl.trainline_id; with ()
[2021-02-26 00:21:28,887] ERROR in app: Exception on /trainlines-and-stations [GET]
Traceback (most recent call last):
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/app.py", line 262, in trainlines_and_stations
    cursor_one = db.execute_query(db_connection = db_connection, query = query_one)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/database/db_connector.py", line 44, in execute_query
    cursor.execute(query, query_params)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 206, in execute
    res = self._query(query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 319, in _query
    db.query(q)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/connections.py", line 259, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.OperationalError: (2006, 'MySQL server has gone away')
[2021-02-26 00:21:59 -0800] [5427] [CRITICAL] WORKER TIMEOUT (pid:11435)
[2021-02-26 00:21:59 -0800] [11435] [INFO] Worker exiting (pid: 11435)
[2021-02-26 00:21:59 -0800] [1309] [INFO] Booting worker with pid: 1309
[2021-02-26 00:22:30 -0800] [5427] [CRITICAL] WORKER TIMEOUT (pid:1309)
[2021-02-26 00:22:30 -0800] [1309] [INFO] Worker exiting (pid: 1309)
[2021-02-26 00:22:30 -0800] [2949] [INFO] Booting worker with pid: 2949
Executing SELECT occupation FROM Passengers GROUP BY occupation; with ()
Executing SELECT passenger_id AS "Passenger ID", first_name AS "First Name", last_name AS "Last Name", birthdate AS "Birthdate", occupation AS "Occupation", email AS "Email" FROM Passengers where occupation = "Student"; with ()
Executing SELECT st.station_id AS "Station ID", st.station_name AS "Station Name", pf.prefecture_name AS "Prefecture Jurisdiction", pf.prefecture_id AS "Prefecture ID"
        FROM Stations st INNER JOIN Prefectures pf ON st.prefecture_id = pf.prefecture_id; with ()
Executing SELECT occupation FROM Passengers GROUP BY occupation; with ()
Executing SELECT passenger_id AS "Passenger ID", first_name AS "First Name", last_name AS "Last Name", birthdate AS "Birthdate", occupation AS "Occupation", email AS "Email" FROM Passengers where occupation = "Student"; with ()
Executing SELECT tl.trainline_id AS "Trainline ID", tl.trainline_company AS "Trainline Name", st.station_name AS "Station Name", st.station_id AS "Station ID"
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY tl.trainline_id; with ()
Executing SELECT st.station_id AS "Station ID", st.station_name AS "Station Name", tl.trainline_company AS "Trainline Name", tl.trainline_id AS "Trainline ID" 
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY st.station_id; with ()
Executing SELECT tl.trainline_id AS "Trainline ID", tl.trainline_company AS "Trainline Name", st.station_name AS "Station Name", st.station_id AS "Station ID"
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY tl.trainline_id; with ()
Executing SELECT st.station_id AS "Station ID", st.station_name AS "Station Name", tl.trainline_company AS "Trainline Name", tl.trainline_id AS "Trainline ID" 
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY st.station_id; with ()
Executing SELECT occupation FROM Passengers GROUP BY occupation; with ()
Executing SELECT passenger_id AS "Passenger ID", first_name AS "First Name", last_name AS "Last Name", birthdate AS "Birthdate", occupation AS "Occupation", email AS "Email" FROM Passengers where occupation = "Student"; with ()
Executing SELECT d1.commuter_pass_id AS "Commuter Pass ID", d1.cost AS "Cost Paid", d1.start_date AS "Start Date", d1.end_date AS "End Date", d3.trainline_company AS "Trainline Access", 
        d3.trainline_id AS "Trainline ID", d2.email AS "Passenger's Email", d2.passenger_id AS "Passenger's ID" from
        (SELECT cp.commuter_pass_id, cp.cost, cp.start_date, cp.end_date, cp.passenger_id, 
        cp.trainline_id from Commuter_Passes cp) d1
        LEFT JOIN
        (select pa.email, pa.passenger_id from Passengers pa) as d2
        on d1.passenger_id = d2.passenger_id
        INNER JOIN
        (select tl.trainline_id, tl.trainline_company from Trainlines tl) as d3
        on d3.trainline_id = d1.trainline_id
        where d1.start_date < now() AND d1.end_date > now()
        order by d1.commuter_pass_id; with ()
Executing SELECT trainline_id, trainline_company FROM Trainlines; with ()
Executing SELECT occupation FROM Passengers GROUP BY occupation; with ()
Executing SELECT passenger_id AS "Passenger ID", first_name AS "First Name", last_name AS "Last Name", birthdate AS "Birthdate", occupation AS "Occupation", email AS "Email" FROM Passengers where occupation = "Student"; with ()
Executing SELECT tl.trainline_id AS "Trainline ID", tl.trainline_company AS "Trainline Name", IFNULL(COUNT(x.trainline_id), 0) AS "Number of Active Commuters" from
        Trainlines tl
        LEFT JOIN
        (select d3.trainline_id, d3.trainline_company, d1.start_date, d1.end_date from
        (SELECT cp.commuter_pass_id, cp.start_date, cp.end_date, cp.trainline_id from Commuter_Passes cp
        where cp.start_date < now() AND now() < cp.end_date) d1
        LEFT JOIN
        (select tl.trainline_id, tl.trainline_company from Trainlines tl) as d3
        on d3.trainline_id = d1.trainline_id) as x
        on tl.trainline_id = x.trainline_id
        group by tl.trainline_id; with ()
Executing SELECT st.station_id AS "Station ID", st.station_name AS "Station Name", pf.prefecture_name AS "Prefecture Jurisdiction", pf.prefecture_id AS "Prefecture ID"
        FROM Stations st INNER JOIN Prefectures pf ON st.prefecture_id = pf.prefecture_id; with ()
Executing SELECT prefecture_id AS "Prefecture ID", prefecture_name AS "Prefecture Name" from Prefectures; with ()
Executing SELECT fq.passenger_id AS "Passenger ID", fq.first_name AS "First Name", fq.last_name AS "Last Name", fq.birthdate AS "Birthdate", fq.occupation AS "Occupation", fq.email AS "Email"
        FROM 
        (SELECT pa.passenger_id, pa.first_name, pa.last_name, pa.birthdate, pa.occupation, pa.email, pf.prefecture_name
        FROM Passengers pa 
        INNER JOIN Commuter_Passes cp ON pa.passenger_id = cp.passenger_id
        INNER JOIN Trainlines tl ON cp.trainline_id = tl.trainline_id
        INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        INNER JOIN Prefectures pf ON st.prefecture_id = pf.prefecture_id) 
        AS fq 
        WHERE fq.prefecture_name = "Tokyo Prefecture"; with ()
Executing SELECT tl.trainline_id AS "Trainline ID", tl.trainline_company AS "Trainline Name", st.station_name AS "Station Name", st.station_id AS "Station ID"
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY tl.trainline_id; with ()
Executing SELECT st.station_id AS "Station ID", st.station_name AS "Station Name", tl.trainline_company AS "Trainline Name", tl.trainline_id AS "Trainline ID" 
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY st.station_id; with ()
[2021-02-26 00:25:06 -0800] [5427] [CRITICAL] WORKER TIMEOUT (pid:2949)
[2021-02-26 00:25:06 -0800] [2949] [INFO] Worker exiting (pid: 2949)
[2021-02-26 00:25:06 -0800] [9548] [INFO] Booting worker with pid: 9548
[2021-02-26 00:37:04 -0800] [5427] [CRITICAL] WORKER TIMEOUT (pid:9548)
[2021-02-26 00:37:04 -0800] [9548] [INFO] Worker exiting (pid: 9548)
[2021-02-26 00:37:04 -0800] [11238] [INFO] Booting worker with pid: 11238
[2021-02-26 00:38:17 -0800] [5427] [CRITICAL] WORKER TIMEOUT (pid:11238)
[2021-02-26 00:38:17 -0800] [11238] [INFO] Worker exiting (pid: 11238)
[2021-02-26 00:38:17 -0800] [14068] [INFO] Booting worker with pid: 14068
Executing SELECT d1.commuter_pass_id AS "Commuter Pass ID", d1.cost AS "Cost Paid", d1.start_date AS "Start Date", d1.end_date AS "End Date", d3.trainline_company AS "Trainline Access", 
        d3.trainline_id AS "Trainline ID", d2.email AS "Passenger's Email", d2.passenger_id AS "Passenger's ID" from
        (SELECT cp.commuter_pass_id, cp.cost, cp.start_date, cp.end_date, cp.passenger_id, 
        cp.trainline_id from Commuter_Passes cp) d1
        LEFT JOIN
        (select pa.email, pa.passenger_id from Passengers pa) as d2
        on d1.passenger_id = d2.passenger_id
        INNER JOIN
        (select tl.trainline_id, tl.trainline_company from Trainlines tl) as d3
        on d3.trainline_id = d1.trainline_id
        where d1.start_date < now() AND d1.end_date > now()
        order by d1.commuter_pass_id; with ()
[2021-02-26 03:39:37,548] ERROR in app: Exception on /commuter-passes [GET]
Traceback (most recent call last):
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/app.py", line 135, in commuter_passes
    cursor = db.execute_query(db_connection = db_connection, query = query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/database/db_connector.py", line 44, in execute_query
    cursor.execute(query, query_params)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 206, in execute
    res = self._query(query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 319, in _query
    db.query(q)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/connections.py", line 259, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.OperationalError: (2006, 'MySQL server has gone away')
Executing SELECT st.station_id AS "Station ID", st.station_name AS "Station Name", pf.prefecture_name AS "Prefecture Jurisdiction", pf.prefecture_id AS "Prefecture ID"
        FROM Stations st INNER JOIN Prefectures pf ON st.prefecture_id = pf.prefecture_id; with ()
[2021-02-26 03:39:42,136] ERROR in app: Exception on /stations [GET]
Traceback (most recent call last):
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/app.py", line 196, in stations
    cursor = db.execute_query(db_connection = db_connection, query = query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/database/db_connector.py", line 44, in execute_query
    cursor.execute(query, query_params)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 206, in execute
    res = self._query(query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 319, in _query
    db.query(q)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/connections.py", line 259, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.OperationalError: (2006, 'MySQL server has gone away')
Executing SELECT occupation FROM Passengers GROUP BY occupation; with ()
[2021-02-26 03:39:46,540] ERROR in app: Exception on /passengers [GET]
Traceback (most recent call last):
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/app.py", line 36, in passengers
    cursor_occupation = db.execute_query(db_connection = db_connection, query = query_occupation)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/database/db_connector.py", line 44, in execute_query
    cursor.execute(query, query_params)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 206, in execute
    res = self._query(query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 319, in _query
    db.query(q)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/connections.py", line 259, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.OperationalError: (2006, 'MySQL server has gone away')
Executing SELECT tl.trainline_id AS "Trainline ID", tl.trainline_company AS "Trainline Name", st.station_name AS "Station Name", st.station_id AS "Station ID"
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY tl.trainline_id; with ()
[2021-02-26 03:39:50,399] ERROR in app: Exception on /trainlines-and-stations [GET]
Traceback (most recent call last):
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/app.py", line 262, in trainlines_and_stations
    cursor_one = db.execute_query(db_connection = db_connection, query = query_one)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/database/db_connector.py", line 44, in execute_query
    cursor.execute(query, query_params)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 206, in execute
    res = self._query(query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 319, in _query
    db.query(q)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/connections.py", line 259, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.OperationalError: (2006, 'MySQL server has gone away')
Executing SELECT occupation FROM Passengers GROUP BY occupation; with ()
[2021-02-26 03:39:53,565] ERROR in app: Exception on /passengers [GET]
Traceback (most recent call last):
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/app.py", line 36, in passengers
    cursor_occupation = db.execute_query(db_connection = db_connection, query = query_occupation)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/database/db_connector.py", line 44, in execute_query
    cursor.execute(query, query_params)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 206, in execute
    res = self._query(query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 319, in _query
    db.query(q)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/connections.py", line 259, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.OperationalError: (2006, 'MySQL server has gone away')
Executing SELECT prefecture_id AS "Prefecture ID", prefecture_name AS "Prefecture Name" from Prefectures; with ()
[2021-02-26 03:40:00,852] ERROR in app: Exception on /prefectures [GET]
Traceback (most recent call last):
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/app.py", line 224, in prefectures
    cursor_one = db.execute_query(db_connection = db_connection, query = query_one)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/database/db_connector.py", line 44, in execute_query
    cursor.execute(query, query_params)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 206, in execute
    res = self._query(query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 319, in _query
    db.query(q)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/connections.py", line 259, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.OperationalError: (2006, 'MySQL server has gone away')
Executing SELECT prefecture_id AS "Prefecture ID", prefecture_name AS "Prefecture Name" from Prefectures; with ()
[2021-02-26 03:40:05,614] ERROR in app: Exception on /prefectures [GET]
Traceback (most recent call last):
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/app.py", line 224, in prefectures
    cursor_one = db.execute_query(db_connection = db_connection, query = query_one)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/database/db_connector.py", line 44, in execute_query
    cursor.execute(query, query_params)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 206, in execute
    res = self._query(query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 319, in _query
    db.query(q)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/connections.py", line 259, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.OperationalError: (2006, 'MySQL server has gone away')
Executing SELECT st.station_id AS "Station ID", st.station_name AS "Station Name", pf.prefecture_name AS "Prefecture Jurisdiction", pf.prefecture_id AS "Prefecture ID"
        FROM Stations st INNER JOIN Prefectures pf ON st.prefecture_id = pf.prefecture_id; with ()
[2021-02-26 03:40:15,603] ERROR in app: Exception on /stations [GET]
Traceback (most recent call last):
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/app.py", line 196, in stations
    cursor = db.execute_query(db_connection = db_connection, query = query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/database/db_connector.py", line 44, in execute_query
    cursor.execute(query, query_params)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 206, in execute
    res = self._query(query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 319, in _query
    db.query(q)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/connections.py", line 259, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.OperationalError: (2006, 'MySQL server has gone away')
Executing SELECT tl.trainline_id AS "Trainline ID", tl.trainline_company AS "Trainline Name", st.station_name AS "Station Name", st.station_id AS "Station ID"
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY tl.trainline_id; with ()
[2021-02-26 03:40:18,703] ERROR in app: Exception on /trainlines-and-stations [GET]
Traceback (most recent call last):
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/app.py", line 262, in trainlines_and_stations
    cursor_one = db.execute_query(db_connection = db_connection, query = query_one)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/database/db_connector.py", line 44, in execute_query
    cursor.execute(query, query_params)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 206, in execute
    res = self._query(query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 319, in _query
    db.query(q)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/connections.py", line 259, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.OperationalError: (2006, 'MySQL server has gone away')
Executing SELECT occupation FROM Passengers GROUP BY occupation; with ()
[2021-02-26 03:40:22,596] ERROR in app: Exception on /passengers [GET]
Traceback (most recent call last):
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/app.py", line 36, in passengers
    cursor_occupation = db.execute_query(db_connection = db_connection, query = query_occupation)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/database/db_connector.py", line 44, in execute_query
    cursor.execute(query, query_params)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 206, in execute
    res = self._query(query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 319, in _query
    db.query(q)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/connections.py", line 259, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.OperationalError: (2006, 'MySQL server has gone away')
Executing SELECT d1.commuter_pass_id AS "Commuter Pass ID", d1.cost AS "Cost Paid", d1.start_date AS "Start Date", d1.end_date AS "End Date", d3.trainline_company AS "Trainline Access", 
        d3.trainline_id AS "Trainline ID", d2.email AS "Passenger's Email", d2.passenger_id AS "Passenger's ID" from
        (SELECT cp.commuter_pass_id, cp.cost, cp.start_date, cp.end_date, cp.passenger_id, 
        cp.trainline_id from Commuter_Passes cp) d1
        LEFT JOIN
        (select pa.email, pa.passenger_id from Passengers pa) as d2
        on d1.passenger_id = d2.passenger_id
        INNER JOIN
        (select tl.trainline_id, tl.trainline_company from Trainlines tl) as d3
        on d3.trainline_id = d1.trainline_id
        where d1.start_date < now() AND d1.end_date > now()
        order by d1.commuter_pass_id; with ()
[2021-02-26 03:40:37,759] ERROR in app: Exception on /commuter-passes [GET]
Traceback (most recent call last):
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/app.py", line 135, in commuter_passes
    cursor = db.execute_query(db_connection = db_connection, query = query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/database/db_connector.py", line 44, in execute_query
    cursor.execute(query, query_params)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 206, in execute
    res = self._query(query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 319, in _query
    db.query(q)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/connections.py", line 259, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.OperationalError: (2006, 'MySQL server has gone away')
Executing SELECT tl.trainline_id AS "Trainline ID", tl.trainline_company AS "Trainline Name", st.station_name AS "Station Name", st.station_id AS "Station ID"
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY tl.trainline_id; with ()
[2021-02-26 03:40:40,896] ERROR in app: Exception on /trainlines-and-stations [GET]
Traceback (most recent call last):
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/app.py", line 262, in trainlines_and_stations
    cursor_one = db.execute_query(db_connection = db_connection, query = query_one)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/database/db_connector.py", line 44, in execute_query
    cursor.execute(query, query_params)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 206, in execute
    res = self._query(query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 319, in _query
    db.query(q)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/connections.py", line 259, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.OperationalError: (2006, 'MySQL server has gone away')
Executing SELECT tl.trainline_id AS "Trainline ID", tl.trainline_company AS "Trainline Name", st.station_name AS "Station Name", st.station_id AS "Station ID"
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY tl.trainline_id; with ()
[2021-02-26 03:40:53,232] ERROR in app: Exception on /trainlines-and-stations [GET]
Traceback (most recent call last):
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/app.py", line 262, in trainlines_and_stations
    cursor_one = db.execute_query(db_connection = db_connection, query = query_one)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/database/db_connector.py", line 44, in execute_query
    cursor.execute(query, query_params)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 206, in execute
    res = self._query(query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 319, in _query
    db.query(q)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/connections.py", line 259, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.OperationalError: (2006, 'MySQL server has gone away')
Executing SELECT occupation FROM Passengers GROUP BY occupation; with ()
[2021-02-26 03:41:05,817] ERROR in app: Exception on /passengers [GET]
Traceback (most recent call last):
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/app.py", line 36, in passengers
    cursor_occupation = db.execute_query(db_connection = db_connection, query = query_occupation)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/database/db_connector.py", line 44, in execute_query
    cursor.execute(query, query_params)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 206, in execute
    res = self._query(query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 319, in _query
    db.query(q)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/connections.py", line 259, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.OperationalError: (2006, 'MySQL server has gone away')
Executing SELECT tl.trainline_id AS "Trainline ID", tl.trainline_company AS "Trainline Name", st.station_name AS "Station Name", st.station_id AS "Station ID"
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY tl.trainline_id; with ()
[2021-02-26 03:41:09,154] ERROR in app: Exception on /trainlines-and-stations [GET]
Traceback (most recent call last):
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/app.py", line 262, in trainlines_and_stations
    cursor_one = db.execute_query(db_connection = db_connection, query = query_one)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/database/db_connector.py", line 44, in execute_query
    cursor.execute(query, query_params)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 206, in execute
    res = self._query(query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 319, in _query
    db.query(q)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/connections.py", line 259, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.OperationalError: (2006, 'MySQL server has gone away')
[2021-02-26 03:41:39 -0800] [5427] [CRITICAL] WORKER TIMEOUT (pid:14068)
[2021-02-26 03:41:39 -0800] [14068] [INFO] Worker exiting (pid: 14068)
[2021-02-26 03:41:39 -0800] [32408] [INFO] Booting worker with pid: 32408
[2021-02-26 03:51:37 -0800] [5427] [CRITICAL] WORKER TIMEOUT (pid:32408)
[2021-02-26 03:51:37 -0800] [32408] [INFO] Worker exiting (pid: 32408)
[2021-02-26 03:51:37 -0800] [22630] [INFO] Booting worker with pid: 22630
Executing SELECT prefecture_id AS "Prefecture ID", prefecture_name AS "Prefecture Name" from Prefectures; with ()
[2021-02-26 03:57:59,337] ERROR in app: Exception on /prefectures [GET]
Traceback (most recent call last):
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/app.py", line 224, in prefectures
    cursor_one = db.execute_query(db_connection = db_connection, query = query_one)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/database/db_connector.py", line 44, in execute_query
    cursor.execute(query, query_params)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 206, in execute
    res = self._query(query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 319, in _query
    db.query(q)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/connections.py", line 259, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.OperationalError: (2006, 'MySQL server has gone away')
[2021-02-26 03:58:29 -0800] [5427] [CRITICAL] WORKER TIMEOUT (pid:22630)
[2021-02-26 03:58:29 -0800] [22630] [INFO] Worker exiting (pid: 22630)
[2021-02-26 03:58:29 -0800] [6240] [INFO] Booting worker with pid: 6240
Executing SELECT prefecture_id AS "Prefecture ID", prefecture_name AS "Prefecture Name" from Prefectures; with ()
Executing SELECT fq.passenger_id AS "Passenger ID", fq.first_name AS "First Name", fq.last_name AS "Last Name", fq.birthdate AS "Birthdate", fq.occupation AS "Occupation", fq.email AS "Email"
        FROM 
        (SELECT pa.passenger_id, pa.first_name, pa.last_name, pa.birthdate, pa.occupation, pa.email, pf.prefecture_name
        FROM Passengers pa 
        INNER JOIN Commuter_Passes cp ON pa.passenger_id = cp.passenger_id
        INNER JOIN Trainlines tl ON cp.trainline_id = tl.trainline_id
        INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        INNER JOIN Prefectures pf ON st.prefecture_id = pf.prefecture_id) 
        AS fq 
        WHERE fq.prefecture_name = "Tokyo Prefecture"; with ()
Executing SELECT prefecture_id AS "Prefecture ID", prefecture_name AS "Prefecture Name" from Prefectures; with ()
Executing SELECT fq.passenger_id AS "Passenger ID", fq.first_name AS "First Name", fq.last_name AS "Last Name", fq.birthdate AS "Birthdate", fq.occupation AS "Occupation", fq.email AS "Email"
        FROM 
        (SELECT pa.passenger_id, pa.first_name, pa.last_name, pa.birthdate, pa.occupation, pa.email, pf.prefecture_name
        FROM Passengers pa 
        INNER JOIN Commuter_Passes cp ON pa.passenger_id = cp.passenger_id
        INNER JOIN Trainlines tl ON cp.trainline_id = tl.trainline_id
        INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        INNER JOIN Prefectures pf ON st.prefecture_id = pf.prefecture_id) 
        AS fq 
        WHERE fq.prefecture_name = "Tokyo Prefecture"; with ()
Executing SELECT st.station_id AS "Station ID", st.station_name AS "Station Name", pf.prefecture_name AS "Prefecture Jurisdiction", pf.prefecture_id AS "Prefecture ID"
        FROM Stations st INNER JOIN Prefectures pf ON st.prefecture_id = pf.prefecture_id; with ()
Executing SELECT tl.trainline_id AS "Trainline ID", tl.trainline_company AS "Trainline Name", IFNULL(COUNT(x.trainline_id), 0) AS "Number of Active Commuters" from
        Trainlines tl
        LEFT JOIN
        (select d3.trainline_id, d3.trainline_company, d1.start_date, d1.end_date from
        (SELECT cp.commuter_pass_id, cp.start_date, cp.end_date, cp.trainline_id from Commuter_Passes cp
        where cp.start_date < now() AND now() < cp.end_date) d1
        LEFT JOIN
        (select tl.trainline_id, tl.trainline_company from Trainlines tl) as d3
        on d3.trainline_id = d1.trainline_id) as x
        on tl.trainline_id = x.trainline_id
        group by tl.trainline_id; with ()
Executing SELECT tl.trainline_id AS "Trainline ID", tl.trainline_company AS "Trainline Name", st.station_name AS "Station Name", st.station_id AS "Station ID"
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY tl.trainline_id; with ()
Executing SELECT st.station_id AS "Station ID", st.station_name AS "Station Name", tl.trainline_company AS "Trainline Name", tl.trainline_id AS "Trainline ID" 
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY st.station_id; with ()
Executing SELECT d1.commuter_pass_id AS "Commuter Pass ID", d1.cost AS "Cost Paid", d1.start_date AS "Start Date", d1.end_date AS "End Date", d3.trainline_company AS "Trainline Access", 
        d3.trainline_id AS "Trainline ID", d2.email AS "Passenger's Email", d2.passenger_id AS "Passenger's ID" from
        (SELECT cp.commuter_pass_id, cp.cost, cp.start_date, cp.end_date, cp.passenger_id, 
        cp.trainline_id from Commuter_Passes cp) d1
        LEFT JOIN
        (select pa.email, pa.passenger_id from Passengers pa) as d2
        on d1.passenger_id = d2.passenger_id
        INNER JOIN
        (select tl.trainline_id, tl.trainline_company from Trainlines tl) as d3
        on d3.trainline_id = d1.trainline_id
        where d1.start_date < now() AND d1.end_date > now()
        order by d1.commuter_pass_id; with ()
Executing SELECT trainline_id, trainline_company FROM Trainlines; with ()
Executing SELECT occupation FROM Passengers GROUP BY occupation; with ()
Executing SELECT passenger_id AS "Passenger ID", first_name AS "First Name", last_name AS "Last Name", birthdate AS "Birthdate", occupation AS "Occupation", email AS "Email" FROM Passengers where occupation = "Student"; with ()
[2021-02-26 04:04:39 -0800] [5427] [CRITICAL] WORKER TIMEOUT (pid:6240)
[2021-02-26 04:04:39 -0800] [6240] [INFO] Worker exiting (pid: 6240)
[2021-02-26 04:04:39 -0800] [20791] [INFO] Booting worker with pid: 20791
Executing SELECT occupation FROM Passengers GROUP BY occupation; with ()
[2021-02-26 04:34:04,603] ERROR in app: Exception on /passengers [GET]
Traceback (most recent call last):
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/app.py", line 36, in passengers
    cursor_occupation = db.execute_query(db_connection = db_connection, query = query_occupation)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/database/db_connector.py", line 44, in execute_query
    cursor.execute(query, query_params)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 206, in execute
    res = self._query(query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 319, in _query
    db.query(q)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/connections.py", line 259, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.OperationalError: (2006, 'MySQL server has gone away')
Executing SELECT occupation FROM Passengers GROUP BY occupation; with ()
[2021-02-26 04:34:07,362] ERROR in app: Exception on /passengers [GET]
Traceback (most recent call last):
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/app.py", line 36, in passengers
    cursor_occupation = db.execute_query(db_connection = db_connection, query = query_occupation)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/database/db_connector.py", line 44, in execute_query
    cursor.execute(query, query_params)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 206, in execute
    res = self._query(query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 319, in _query
    db.query(q)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/connections.py", line 259, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.OperationalError: (2006, 'MySQL server has gone away')
Executing SELECT prefecture_id AS "Prefecture ID", prefecture_name AS "Prefecture Name" from Prefectures; with ()
[2021-02-26 04:34:10,340] ERROR in app: Exception on /prefectures [GET]
Traceback (most recent call last):
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/app.py", line 224, in prefectures
    cursor_one = db.execute_query(db_connection = db_connection, query = query_one)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/database/db_connector.py", line 44, in execute_query
    cursor.execute(query, query_params)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 206, in execute
    res = self._query(query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 319, in _query
    db.query(q)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/connections.py", line 259, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.OperationalError: (2006, 'MySQL server has gone away')
Executing SELECT prefecture_id AS "Prefecture ID", prefecture_name AS "Prefecture Name" from Prefectures; with ()
[2021-02-26 04:34:13,975] ERROR in app: Exception on /prefectures [GET]
Traceback (most recent call last):
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/app.py", line 224, in prefectures
    cursor_one = db.execute_query(db_connection = db_connection, query = query_one)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/database/db_connector.py", line 44, in execute_query
    cursor.execute(query, query_params)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 206, in execute
    res = self._query(query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 319, in _query
    db.query(q)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/connections.py", line 259, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.OperationalError: (2006, 'MySQL server has gone away')
Executing SELECT tl.trainline_id AS "Trainline ID", tl.trainline_company AS "Trainline Name", IFNULL(COUNT(x.trainline_id), 0) AS "Number of Active Commuters" from
        Trainlines tl
        LEFT JOIN
        (select d3.trainline_id, d3.trainline_company, d1.start_date, d1.end_date from
        (SELECT cp.commuter_pass_id, cp.start_date, cp.end_date, cp.trainline_id from Commuter_Passes cp
        where cp.start_date < now() AND now() < cp.end_date) d1
        LEFT JOIN
        (select tl.trainline_id, tl.trainline_company from Trainlines tl) as d3
        on d3.trainline_id = d1.trainline_id) as x
        on tl.trainline_id = x.trainline_id
        group by tl.trainline_id; with ()
[2021-02-26 04:34:16,852] ERROR in app: Exception on /trainlines [GET]
Traceback (most recent call last):
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/app.py", line 181, in trainlines
    cursor = db.execute_query(db_connection = db_connection, query = query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/database/db_connector.py", line 44, in execute_query
    cursor.execute(query, query_params)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 206, in execute
    res = self._query(query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 319, in _query
    db.query(q)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/connections.py", line 259, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.OperationalError: (2006, 'MySQL server has gone away')
[2021-02-26 04:34:47 -0800] [5427] [CRITICAL] WORKER TIMEOUT (pid:20791)
[2021-02-26 04:34:47 -0800] [20791] [INFO] Worker exiting (pid: 20791)
[2021-02-26 04:34:47 -0800] [10105] [INFO] Booting worker with pid: 10105
[2021-02-26 04:36:36 -0800] [5427] [CRITICAL] WORKER TIMEOUT (pid:10105)
[2021-02-26 04:36:36 -0800] [10105] [INFO] Worker exiting (pid: 10105)
[2021-02-26 04:36:36 -0800] [15040] [INFO] Booting worker with pid: 15040
Executing SELECT tl.trainline_id AS "Trainline ID", tl.trainline_company AS "Trainline Name", st.station_name AS "Station Name", st.station_id AS "Station ID"
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY tl.trainline_id; with ()
Executing SELECT st.station_id AS "Station ID", st.station_name AS "Station Name", tl.trainline_company AS "Trainline Name", tl.trainline_id AS "Trainline ID" 
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY st.station_id; with ()
Executing SELECT tl.trainline_id AS "Trainline ID", tl.trainline_company AS "Trainline Name", st.station_name AS "Station Name", st.station_id AS "Station ID"
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY tl.trainline_id; with ()
Executing SELECT st.station_id AS "Station ID", st.station_name AS "Station Name", tl.trainline_company AS "Trainline Name", tl.trainline_id AS "Trainline ID" 
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY st.station_id; with ()
Executing SELECT tl.trainline_id AS "Trainline ID", tl.trainline_company AS "Trainline Name", st.station_name AS "Station Name", st.station_id AS "Station ID"
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY tl.trainline_id; with ()
Executing SELECT st.station_id AS "Station ID", st.station_name AS "Station Name", tl.trainline_company AS "Trainline Name", tl.trainline_id AS "Trainline ID" 
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY st.station_id; with ()
Executing SELECT tl.trainline_id AS "Trainline ID", tl.trainline_company AS "Trainline Name", st.station_name AS "Station Name", st.station_id AS "Station ID"
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY tl.trainline_id; with ()
Executing SELECT st.station_id AS "Station ID", st.station_name AS "Station Name", tl.trainline_company AS "Trainline Name", tl.trainline_id AS "Trainline ID" 
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY st.station_id; with ()
Executing SELECT tl.trainline_id AS "Trainline ID", tl.trainline_company AS "Trainline Name", st.station_name AS "Station Name", st.station_id AS "Station ID"
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY tl.trainline_id; with ()
Executing SELECT st.station_id AS "Station ID", st.station_name AS "Station Name", tl.trainline_company AS "Trainline Name", tl.trainline_id AS "Trainline ID" 
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY st.station_id; with ()
Executing SELECT tl.trainline_id AS "Trainline ID", tl.trainline_company AS "Trainline Name", st.station_name AS "Station Name", st.station_id AS "Station ID"
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY tl.trainline_id; with ()
Executing SELECT st.station_id AS "Station ID", st.station_name AS "Station Name", tl.trainline_company AS "Trainline Name", tl.trainline_id AS "Trainline ID" 
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY st.station_id; with ()
Executing SELECT tl.trainline_id AS "Trainline ID", tl.trainline_company AS "Trainline Name", st.station_name AS "Station Name", st.station_id AS "Station ID"
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY tl.trainline_id; with ()
Executing SELECT st.station_id AS "Station ID", st.station_name AS "Station Name", tl.trainline_company AS "Trainline Name", tl.trainline_id AS "Trainline ID" 
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY st.station_id; with ()
Executing SELECT tl.trainline_id AS "Trainline ID", tl.trainline_company AS "Trainline Name", st.station_name AS "Station Name", st.station_id AS "Station ID"
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY tl.trainline_id; with ()
Executing SELECT st.station_id AS "Station ID", st.station_name AS "Station Name", tl.trainline_company AS "Trainline Name", tl.trainline_id AS "Trainline ID" 
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY st.station_id; with ()
Executing SELECT d1.commuter_pass_id AS "Commuter Pass ID", d1.cost AS "Cost Paid", d1.start_date AS "Start Date", d1.end_date AS "End Date", d3.trainline_company AS "Trainline Access", 
        d3.trainline_id AS "Trainline ID", d2.email AS "Passenger's Email", d2.passenger_id AS "Passenger's ID" from
        (SELECT cp.commuter_pass_id, cp.cost, cp.start_date, cp.end_date, cp.passenger_id, 
        cp.trainline_id from Commuter_Passes cp) d1
        LEFT JOIN
        (select pa.email, pa.passenger_id from Passengers pa) as d2
        on d1.passenger_id = d2.passenger_id
        INNER JOIN
        (select tl.trainline_id, tl.trainline_company from Trainlines tl) as d3
        on d3.trainline_id = d1.trainline_id
        where d1.start_date < now() AND d1.end_date > now()
        order by d1.commuter_pass_id; with ()
Executing SELECT trainline_id, trainline_company FROM Trainlines; with ()
Executing SELECT occupation FROM Passengers GROUP BY occupation; with ()
Executing SELECT passenger_id AS "Passenger ID", first_name AS "First Name", last_name AS "Last Name", birthdate AS "Birthdate", occupation AS "Occupation", email AS "Email" FROM Passengers where occupation = "Student"; with ()
Executing SELECT occupation FROM Passengers GROUP BY occupation; with ()
Executing SELECT passenger_id AS "Passenger ID", first_name AS "First Name", last_name AS "Last Name", birthdate AS "Birthdate", occupation AS "Occupation", email AS "Email" FROM Passengers where occupation = "Student"; with ()
Executing SELECT d1.commuter_pass_id AS "Commuter Pass ID", d1.cost AS "Cost Paid", d1.start_date AS "Start Date", d1.end_date AS "End Date", d3.trainline_company AS "Trainline Access", 
        d3.trainline_id AS "Trainline ID", d2.email AS "Passenger's Email", d2.passenger_id AS "Passenger's ID" from
        (SELECT cp.commuter_pass_id, cp.cost, cp.start_date, cp.end_date, cp.passenger_id, 
        cp.trainline_id from Commuter_Passes cp) d1
        LEFT JOIN
        (select pa.email, pa.passenger_id from Passengers pa) as d2
        on d1.passenger_id = d2.passenger_id
        INNER JOIN
        (select tl.trainline_id, tl.trainline_company from Trainlines tl) as d3
        on d3.trainline_id = d1.trainline_id
        where d1.start_date < now() AND d1.end_date > now()
        order by d1.commuter_pass_id; with ()
Executing SELECT trainline_id, trainline_company FROM Trainlines; with ()
Executing SELECT d1.commuter_pass_id AS "Commuter Pass ID", d1.cost AS "Cost Paid", d1.start_date AS "Start Date", d1.end_date AS "End Date", d3.trainline_company AS "Trainline Access", 
        d3.trainline_id AS "Trainline ID", d2.email AS "Passenger's Email", d2.passenger_id AS "Passenger's ID" from
        (SELECT cp.commuter_pass_id, cp.cost, cp.start_date, cp.end_date, cp.passenger_id, 
        cp.trainline_id from Commuter_Passes cp) d1
        LEFT JOIN
        (select pa.email, pa.passenger_id from Passengers pa) as d2
        on d1.passenger_id = d2.passenger_id
        INNER JOIN
        (select tl.trainline_id, tl.trainline_company from Trainlines tl) as d3
        on d3.trainline_id = d1.trainline_id
        where d1.start_date < now() AND d1.end_date > now()
        order by d1.commuter_pass_id; with ()
Executing SELECT trainline_id, trainline_company FROM Trainlines; with ()
Executing SELECT tl.trainline_id AS "Trainline ID", tl.trainline_company AS "Trainline Name", IFNULL(COUNT(x.trainline_id), 0) AS "Number of Active Commuters" from
        Trainlines tl
        LEFT JOIN
        (select d3.trainline_id, d3.trainline_company, d1.start_date, d1.end_date from
        (SELECT cp.commuter_pass_id, cp.start_date, cp.end_date, cp.trainline_id from Commuter_Passes cp
        where cp.start_date < now() AND now() < cp.end_date) d1
        LEFT JOIN
        (select tl.trainline_id, tl.trainline_company from Trainlines tl) as d3
        on d3.trainline_id = d1.trainline_id) as x
        on tl.trainline_id = x.trainline_id
        group by tl.trainline_id; with ()
Executing SELECT st.station_id AS "Station ID", st.station_name AS "Station Name", pf.prefecture_name AS "Prefecture Jurisdiction", pf.prefecture_id AS "Prefecture ID"
        FROM Stations st INNER JOIN Prefectures pf ON st.prefecture_id = pf.prefecture_id; with ()
Executing SELECT prefecture_id AS "Prefecture ID", prefecture_name AS "Prefecture Name" from Prefectures; with ()
Executing SELECT fq.passenger_id AS "Passenger ID", fq.first_name AS "First Name", fq.last_name AS "Last Name", fq.birthdate AS "Birthdate", fq.occupation AS "Occupation", fq.email AS "Email"
        FROM 
        (SELECT pa.passenger_id, pa.first_name, pa.last_name, pa.birthdate, pa.occupation, pa.email, pf.prefecture_name
        FROM Passengers pa 
        INNER JOIN Commuter_Passes cp ON pa.passenger_id = cp.passenger_id
        INNER JOIN Trainlines tl ON cp.trainline_id = tl.trainline_id
        INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        INNER JOIN Prefectures pf ON st.prefecture_id = pf.prefecture_id) 
        AS fq 
        WHERE fq.prefecture_name = "Tokyo Prefecture"; with ()
Executing SELECT prefecture_id AS "Prefecture ID", prefecture_name AS "Prefecture Name" from Prefectures; with ()
Executing SELECT fq.passenger_id AS "Passenger ID", fq.first_name AS "First Name", fq.last_name AS "Last Name", fq.birthdate AS "Birthdate", fq.occupation AS "Occupation", fq.email AS "Email"
        FROM 
        (SELECT pa.passenger_id, pa.first_name, pa.last_name, pa.birthdate, pa.occupation, pa.email, pf.prefecture_name
        FROM Passengers pa 
        INNER JOIN Commuter_Passes cp ON pa.passenger_id = cp.passenger_id
        INNER JOIN Trainlines tl ON cp.trainline_id = tl.trainline_id
        INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        INNER JOIN Prefectures pf ON st.prefecture_id = pf.prefecture_id) 
        AS fq 
        WHERE fq.prefecture_name = "Tokyo Prefecture"; with ()
Executing SELECT tl.trainline_id AS "Trainline ID", tl.trainline_company AS "Trainline Name", st.station_name AS "Station Name", st.station_id AS "Station ID"
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY tl.trainline_id; with ()
Executing SELECT st.station_id AS "Station ID", st.station_name AS "Station Name", tl.trainline_company AS "Trainline Name", tl.trainline_id AS "Trainline ID" 
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY st.station_id; with ()
Executing SELECT tl.trainline_id AS "Trainline ID", tl.trainline_company AS "Trainline Name", st.station_name AS "Station Name", st.station_id AS "Station ID"
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY tl.trainline_id; with ()
Executing SELECT st.station_id AS "Station ID", st.station_name AS "Station Name", tl.trainline_company AS "Trainline Name", tl.trainline_id AS "Trainline ID" 
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY st.station_id; with ()
Executing SELECT tl.trainline_id AS "Trainline ID", tl.trainline_company AS "Trainline Name", st.station_name AS "Station Name", st.station_id AS "Station ID"
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY tl.trainline_id; with ()
Executing SELECT st.station_id AS "Station ID", st.station_name AS "Station Name", tl.trainline_company AS "Trainline Name", tl.trainline_id AS "Trainline ID" 
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY st.station_id; with ()
[2021-02-26 04:43:27 -0800] [5427] [CRITICAL] WORKER TIMEOUT (pid:15040)
[2021-02-26 04:43:27 -0800] [15040] [INFO] Worker exiting (pid: 15040)
[2021-02-26 04:43:27 -0800] [3277] [INFO] Booting worker with pid: 3277
Executing SELECT occupation FROM Passengers GROUP BY occupation; with ()
[2021-02-26 09:27:48,229] ERROR in app: Exception on /passengers [GET]
Traceback (most recent call last):
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/app.py", line 36, in passengers
    cursor_occupation = db.execute_query(db_connection = db_connection, query = query_occupation)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/database/db_connector.py", line 44, in execute_query
    cursor.execute(query, query_params)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 206, in execute
    res = self._query(query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 319, in _query
    db.query(q)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/connections.py", line 259, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.OperationalError: (2006, 'MySQL server has gone away')
Executing SELECT tl.trainline_id AS "Trainline ID", tl.trainline_company AS "Trainline Name", IFNULL(COUNT(x.trainline_id), 0) AS "Number of Active Commuters" from
        Trainlines tl
        LEFT JOIN
        (select d3.trainline_id, d3.trainline_company, d1.start_date, d1.end_date from
        (SELECT cp.commuter_pass_id, cp.start_date, cp.end_date, cp.trainline_id from Commuter_Passes cp
        where cp.start_date < now() AND now() < cp.end_date) d1
        LEFT JOIN
        (select tl.trainline_id, tl.trainline_company from Trainlines tl) as d3
        on d3.trainline_id = d1.trainline_id) as x
        on tl.trainline_id = x.trainline_id
        group by tl.trainline_id; with ()
[2021-02-26 09:27:51,125] ERROR in app: Exception on /trainlines [GET]
Traceback (most recent call last):
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/app.py", line 181, in trainlines
    cursor = db.execute_query(db_connection = db_connection, query = query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/database/db_connector.py", line 44, in execute_query
    cursor.execute(query, query_params)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 206, in execute
    res = self._query(query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 319, in _query
    db.query(q)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/connections.py", line 259, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.OperationalError: (2006, 'MySQL server has gone away')
Executing SELECT d1.commuter_pass_id AS "Commuter Pass ID", d1.cost AS "Cost Paid", d1.start_date AS "Start Date", d1.end_date AS "End Date", d3.trainline_company AS "Trainline Access", 
        d3.trainline_id AS "Trainline ID", d2.email AS "Passenger's Email", d2.passenger_id AS "Passenger's ID" from
        (SELECT cp.commuter_pass_id, cp.cost, cp.start_date, cp.end_date, cp.passenger_id, 
        cp.trainline_id from Commuter_Passes cp) d1
        LEFT JOIN
        (select pa.email, pa.passenger_id from Passengers pa) as d2
        on d1.passenger_id = d2.passenger_id
        INNER JOIN
        (select tl.trainline_id, tl.trainline_company from Trainlines tl) as d3
        on d3.trainline_id = d1.trainline_id
        where d1.start_date < now() AND d1.end_date > now()
        order by d1.commuter_pass_id; with ()
[2021-02-26 15:11:40,134] ERROR in app: Exception on /commuter-passes [GET]
Traceback (most recent call last):
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/app.py", line 135, in commuter_passes
    cursor = db.execute_query(db_connection = db_connection, query = query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/database/db_connector.py", line 44, in execute_query
    cursor.execute(query, query_params)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 206, in execute
    res = self._query(query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 319, in _query
    db.query(q)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/connections.py", line 259, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.OperationalError: (2006, 'MySQL server has gone away')
Executing SELECT occupation FROM Passengers GROUP BY occupation; with ()
[2021-02-26 15:11:40,145] ERROR in app: Exception on /passengers [GET]
Traceback (most recent call last):
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/app.py", line 36, in passengers
    cursor_occupation = db.execute_query(db_connection = db_connection, query = query_occupation)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/database/db_connector.py", line 44, in execute_query
    cursor.execute(query, query_params)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 206, in execute
    res = self._query(query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 319, in _query
    db.query(q)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/connections.py", line 259, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.OperationalError: (2006, 'MySQL server has gone away')
Executing SELECT d1.commuter_pass_id AS "Commuter Pass ID", d1.cost AS "Cost Paid", d1.start_date AS "Start Date", d1.end_date AS "End Date", d3.trainline_company AS "Trainline Access", 
        d3.trainline_id AS "Trainline ID", d2.email AS "Passenger's Email", d2.passenger_id AS "Passenger's ID" from
        (SELECT cp.commuter_pass_id, cp.cost, cp.start_date, cp.end_date, cp.passenger_id, 
        cp.trainline_id from Commuter_Passes cp) d1
        LEFT JOIN
        (select pa.email, pa.passenger_id from Passengers pa) as d2
        on d1.passenger_id = d2.passenger_id
        INNER JOIN
        (select tl.trainline_id, tl.trainline_company from Trainlines tl) as d3
        on d3.trainline_id = d1.trainline_id
        where d1.start_date < now() AND d1.end_date > now()
        order by d1.commuter_pass_id; with ()
[2021-02-26 15:11:42,486] ERROR in app: Exception on /commuter-passes [GET]
Traceback (most recent call last):
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/app.py", line 135, in commuter_passes
    cursor = db.execute_query(db_connection = db_connection, query = query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/database/db_connector.py", line 44, in execute_query
    cursor.execute(query, query_params)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 206, in execute
    res = self._query(query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 319, in _query
    db.query(q)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/connections.py", line 259, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.OperationalError: (2006, 'MySQL server has gone away')
Executing SELECT tl.trainline_id AS "Trainline ID", tl.trainline_company AS "Trainline Name", IFNULL(COUNT(x.trainline_id), 0) AS "Number of Active Commuters" from
        Trainlines tl
        LEFT JOIN
        (select d3.trainline_id, d3.trainline_company, d1.start_date, d1.end_date from
        (SELECT cp.commuter_pass_id, cp.start_date, cp.end_date, cp.trainline_id from Commuter_Passes cp
        where cp.start_date < now() AND now() < cp.end_date) d1
        LEFT JOIN
        (select tl.trainline_id, tl.trainline_company from Trainlines tl) as d3
        on d3.trainline_id = d1.trainline_id) as x
        on tl.trainline_id = x.trainline_id
        group by tl.trainline_id; with ()
[2021-02-26 15:11:44,881] ERROR in app: Exception on /trainlines [GET]
Traceback (most recent call last):
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/app.py", line 181, in trainlines
    cursor = db.execute_query(db_connection = db_connection, query = query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/database/db_connector.py", line 44, in execute_query
    cursor.execute(query, query_params)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 206, in execute
    res = self._query(query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 319, in _query
    db.query(q)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/connections.py", line 259, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.OperationalError: (2006, 'MySQL server has gone away')
Executing SELECT prefecture_id AS "Prefecture ID", prefecture_name AS "Prefecture Name" from Prefectures; with ()
[2021-02-26 15:11:47,510] ERROR in app: Exception on /prefectures [GET]
Traceback (most recent call last):
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/app.py", line 224, in prefectures
    cursor_one = db.execute_query(db_connection = db_connection, query = query_one)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/database/db_connector.py", line 44, in execute_query
    cursor.execute(query, query_params)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 206, in execute
    res = self._query(query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 319, in _query
    db.query(q)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/connections.py", line 259, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.OperationalError: (2006, 'MySQL server has gone away')
[2021-02-26 15:12:18 -0800] [5427] [CRITICAL] WORKER TIMEOUT (pid:3277)
[2021-02-26 15:12:18 -0800] [3277] [INFO] Worker exiting (pid: 3277)
[2021-02-26 15:12:18 -0800] [1279] [INFO] Booting worker with pid: 1279
Executing SELECT tl.trainline_id AS "Trainline ID", tl.trainline_company AS "Trainline Name", st.station_name AS "Station Name", st.station_id AS "Station ID"
        FROM Trainlines tl INNER JOIN Trainlines_and_Stations ts ON tl.trainline_id = ts.trainline_id
        INNER JOIN Stations st ON ts.station_id = st.station_id
        ORDER BY tl.trainline_id; with ()
[2021-02-26 16:14:15,320] ERROR in app: Exception on /trainlines-and-stations [GET]
Traceback (most recent call last):
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/app.py", line 262, in trainlines_and_stations
    cursor_one = db.execute_query(db_connection = db_connection, query = query_one)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/database/db_connector.py", line 44, in execute_query
    cursor.execute(query, query_params)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 206, in execute
    res = self._query(query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 319, in _query
    db.query(q)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/connections.py", line 259, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.OperationalError: (2006, 'MySQL server has gone away')
Executing SELECT d1.commuter_pass_id AS "Commuter Pass ID", d1.cost AS "Cost Paid", d1.start_date AS "Start Date", d1.end_date AS "End Date", d3.trainline_company AS "Trainline Access", 
        d3.trainline_id AS "Trainline ID", d2.email AS "Passenger's Email", d2.passenger_id AS "Passenger's ID" from
        (SELECT cp.commuter_pass_id, cp.cost, cp.start_date, cp.end_date, cp.passenger_id, 
        cp.trainline_id from Commuter_Passes cp) d1
        LEFT JOIN
        (select pa.email, pa.passenger_id from Passengers pa) as d2
        on d1.passenger_id = d2.passenger_id
        INNER JOIN
        (select tl.trainline_id, tl.trainline_company from Trainlines tl) as d3
        on d3.trainline_id = d1.trainline_id
        where d1.start_date < now() AND d1.end_date > now()
        order by d1.commuter_pass_id; with ()
[2021-02-26 16:15:11,288] ERROR in app: Exception on /commuter-passes [GET]
Traceback (most recent call last):
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/app.py", line 135, in commuter_passes
    cursor = db.execute_query(db_connection = db_connection, query = query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/database/db_connector.py", line 44, in execute_query
    cursor.execute(query, query_params)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 206, in execute
    res = self._query(query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 319, in _query
    db.query(q)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/connections.py", line 259, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.OperationalError: (2006, 'MySQL server has gone away')
Executing SELECT occupation FROM Passengers GROUP BY occupation; with ()
[2021-02-26 16:15:20,495] ERROR in app: Exception on /passengers [GET]
Traceback (most recent call last):
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/app.py", line 36, in passengers
    cursor_occupation = db.execute_query(db_connection = db_connection, query = query_occupation)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/database/db_connector.py", line 44, in execute_query
    cursor.execute(query, query_params)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 206, in execute
    res = self._query(query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 319, in _query
    db.query(q)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/connections.py", line 259, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.OperationalError: (2006, 'MySQL server has gone away')
Executing SELECT d1.commuter_pass_id AS "Commuter Pass ID", d1.cost AS "Cost Paid", d1.start_date AS "Start Date", d1.end_date AS "End Date", d3.trainline_company AS "Trainline Access", 
        d3.trainline_id AS "Trainline ID", d2.email AS "Passenger's Email", d2.passenger_id AS "Passenger's ID" from
        (SELECT cp.commuter_pass_id, cp.cost, cp.start_date, cp.end_date, cp.passenger_id, 
        cp.trainline_id from Commuter_Passes cp) d1
        LEFT JOIN
        (select pa.email, pa.passenger_id from Passengers pa) as d2
        on d1.passenger_id = d2.passenger_id
        INNER JOIN
        (select tl.trainline_id, tl.trainline_company from Trainlines tl) as d3
        on d3.trainline_id = d1.trainline_id
        where d1.start_date < now() AND d1.end_date > now()
        order by d1.commuter_pass_id; with ()
[2021-02-26 16:15:23,607] ERROR in app: Exception on /commuter-passes [GET]
Traceback (most recent call last):
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/app.py", line 135, in commuter_passes
    cursor = db.execute_query(db_connection = db_connection, query = query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/database/db_connector.py", line 44, in execute_query
    cursor.execute(query, query_params)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 206, in execute
    res = self._query(query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 319, in _query
    db.query(q)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/connections.py", line 259, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.OperationalError: (2006, 'MySQL server has gone away')
Executing SELECT tl.trainline_id AS "Trainline ID", tl.trainline_company AS "Trainline Name", IFNULL(COUNT(x.trainline_id), 0) AS "Number of Active Commuters" from
        Trainlines tl
        LEFT JOIN
        (select d3.trainline_id, d3.trainline_company, d1.start_date, d1.end_date from
        (SELECT cp.commuter_pass_id, cp.start_date, cp.end_date, cp.trainline_id from Commuter_Passes cp
        where cp.start_date < now() AND now() < cp.end_date) d1
        LEFT JOIN
        (select tl.trainline_id, tl.trainline_company from Trainlines tl) as d3
        on d3.trainline_id = d1.trainline_id) as x
        on tl.trainline_id = x.trainline_id
        group by tl.trainline_id; with ()
[2021-02-26 16:15:27,264] ERROR in app: Exception on /trainlines [GET]
Traceback (most recent call last):
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/app.py", line 181, in trainlines
    cursor = db.execute_query(db_connection = db_connection, query = query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/database/db_connector.py", line 44, in execute_query
    cursor.execute(query, query_params)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 206, in execute
    res = self._query(query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 319, in _query
    db.query(q)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/connections.py", line 259, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.OperationalError: (2006, 'MySQL server has gone away')
Executing SELECT occupation FROM Passengers GROUP BY occupation; with ()
[2021-02-26 16:15:32,104] ERROR in app: Exception on /passengers [GET]
Traceback (most recent call last):
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/app.py", line 36, in passengers
    cursor_occupation = db.execute_query(db_connection = db_connection, query = query_occupation)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/database/db_connector.py", line 44, in execute_query
    cursor.execute(query, query_params)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 206, in execute
    res = self._query(query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 319, in _query
    db.query(q)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/connections.py", line 259, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.OperationalError: (2006, 'MySQL server has gone away')
Executing SELECT occupation FROM Passengers GROUP BY occupation; with ()
[2021-02-26 16:15:32,808] ERROR in app: Exception on /passengers [GET]
Traceback (most recent call last):
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/app.py", line 36, in passengers
    cursor_occupation = db.execute_query(db_connection = db_connection, query = query_occupation)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/database/db_connector.py", line 44, in execute_query
    cursor.execute(query, query_params)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 206, in execute
    res = self._query(query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 319, in _query
    db.query(q)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/connections.py", line 259, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.OperationalError: (2006, 'MySQL server has gone away')
Executing SELECT tl.trainline_id AS "Trainline ID", tl.trainline_company AS "Trainline Name", IFNULL(COUNT(x.trainline_id), 0) AS "Number of Active Commuters" from
        Trainlines tl
        LEFT JOIN
        (select d3.trainline_id, d3.trainline_company, d1.start_date, d1.end_date from
        (SELECT cp.commuter_pass_id, cp.start_date, cp.end_date, cp.trainline_id from Commuter_Passes cp
        where cp.start_date < now() AND now() < cp.end_date) d1
        LEFT JOIN
        (select tl.trainline_id, tl.trainline_company from Trainlines tl) as d3
        on d3.trainline_id = d1.trainline_id) as x
        on tl.trainline_id = x.trainline_id
        group by tl.trainline_id; with ()
[2021-02-26 16:15:36,524] ERROR in app: Exception on /trainlines [GET]
Traceback (most recent call last):
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/app.py", line 181, in trainlines
    cursor = db.execute_query(db_connection = db_connection, query = query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/database/db_connector.py", line 44, in execute_query
    cursor.execute(query, query_params)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 206, in execute
    res = self._query(query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 319, in _query
    db.query(q)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/connections.py", line 259, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.OperationalError: (2006, 'MySQL server has gone away')
Executing SELECT tl.trainline_id AS "Trainline ID", tl.trainline_company AS "Trainline Name", IFNULL(COUNT(x.trainline_id), 0) AS "Number of Active Commuters" from
        Trainlines tl
        LEFT JOIN
        (select d3.trainline_id, d3.trainline_company, d1.start_date, d1.end_date from
        (SELECT cp.commuter_pass_id, cp.start_date, cp.end_date, cp.trainline_id from Commuter_Passes cp
        where cp.start_date < now() AND now() < cp.end_date) d1
        LEFT JOIN
        (select tl.trainline_id, tl.trainline_company from Trainlines tl) as d3
        on d3.trainline_id = d1.trainline_id) as x
        on tl.trainline_id = x.trainline_id
        group by tl.trainline_id; with ()
[2021-02-26 16:15:37,908] ERROR in app: Exception on /trainlines [GET]
Traceback (most recent call last):
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/app.py", line 181, in trainlines
    cursor = db.execute_query(db_connection = db_connection, query = query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/database/db_connector.py", line 44, in execute_query
    cursor.execute(query, query_params)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 206, in execute
    res = self._query(query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 319, in _query
    db.query(q)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/connections.py", line 259, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.OperationalError: (2006, 'MySQL server has gone away')
Executing SELECT occupation FROM Passengers GROUP BY occupation; with ()
[2021-02-26 16:15:42,105] ERROR in app: Exception on /passengers [GET]
Traceback (most recent call last):
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/app.py", line 36, in passengers
    cursor_occupation = db.execute_query(db_connection = db_connection, query = query_occupation)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/database/db_connector.py", line 44, in execute_query
    cursor.execute(query, query_params)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 206, in execute
    res = self._query(query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 319, in _query
    db.query(q)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/connections.py", line 259, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.OperationalError: (2006, 'MySQL server has gone away')
Executing SELECT tl.trainline_id AS "Trainline ID", tl.trainline_company AS "Trainline Name", IFNULL(COUNT(x.trainline_id), 0) AS "Number of Active Commuters" from
        Trainlines tl
        LEFT JOIN
        (select d3.trainline_id, d3.trainline_company, d1.start_date, d1.end_date from
        (SELECT cp.commuter_pass_id, cp.start_date, cp.end_date, cp.trainline_id from Commuter_Passes cp
        where cp.start_date < now() AND now() < cp.end_date) d1
        LEFT JOIN
        (select tl.trainline_id, tl.trainline_company from Trainlines tl) as d3
        on d3.trainline_id = d1.trainline_id) as x
        on tl.trainline_id = x.trainline_id
        group by tl.trainline_id; with ()
[2021-02-26 16:20:17,842] ERROR in app: Exception on /trainlines [GET]
Traceback (most recent call last):
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/app.py", line 181, in trainlines
    cursor = db.execute_query(db_connection = db_connection, query = query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/database/db_connector.py", line 44, in execute_query
    cursor.execute(query, query_params)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 206, in execute
    res = self._query(query)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/cursors.py", line 319, in _query
    db.query(q)
  File "/nfs/stak/users/macandok/CS340/PROJECT-FLASK/cs340/venv/lib64/python3.6/site-packages/MySQLdb/connections.py", line 259, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.OperationalError: (2006, 'MySQL server has gone away')
[2021-02-26 16:21:29 -0800] [1279] [INFO] Worker exiting (pid: 1279)
[2021-02-26 16:21:29 -0800] [6216] [INFO] Booting worker with pid: 6216
[2021-02-26 16:22:09 -0800] [5427] [INFO] Handling signal: term
[2021-02-26 16:22:09 -0800] [6216] [INFO] Worker exiting (pid: 6216)
[2021-02-26 16:22:10 -0800] [5427] [INFO] Shutting down: Master
